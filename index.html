<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReivBET - Casa de Apostas Online</title>
    <script src="https://cdn.tailwindcss.com">
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .floating-notification {
            animation: float 3s ease-in-out infinite;
        }
        .cell {
            transition: all 0.3s ease;
        }
        .cell:hover {
            transform: scale(1.05);
        }
        .logo-7 {
            position: relative;
        }
        .logo-7::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #ff0000, transparent);
            animation: bleed 2s infinite;
        }
        @keyframes bleed {
            0% { opacity: 0; transform: scaleX(0); }
            50% { opacity: 1; transform: scaleX(1); }
            100% { opacity: 0; transform: scaleX(0); }
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        .animate-pulse {
            animation: pulse 0.5s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        #av-plane {
            transition: transform 0.1s ease-out;
            z-index: 10;
            will-change: transform;
        }
        #av-trail {
            transition: 
                width 0.1s ease-out,
                background-color 0.3s ease;
            z-index: 5;
        }
        .welcome-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.8), url('https://images.unsplash.com/photo-1518895949257-7621c3c786d7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1489&q=80'));
            background-size: cover;
            background-position: center;
        }
        .slot-reel {
            min-width: 64px;
            min-height: 80px;
        }
        .card {
            min-width: 60px;
            min-height: 90px;
        }

        /* --- ESTILOS ATUALIZADOS DA ROLETA --- */
        .roulette-container {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 280px;
            height: 280px;
            margin: 1rem auto;
        }
        .roulette-pointer {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 20px solid #ef4444; /* red-500 */
            z-index: 10;
        }
        .roulette-wheel {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            border: 8px solid #4a5568; /* gray-700 */
            background-color: #1a202c; /* gray-900 */
            transition: transform 5s ease-out;
        }
        .roulette-wheel .wheel-slice {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            left: 0;
            top: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 10px;
            font-weight: bold;
            color: white;
        }
        .roulette-center {
            position: absolute;
            width: 50px;
            height: 50px;
            background: #2d3748; /* gray-800 */
            border-radius: 50%;
            border: 5px solid #718096; /* gray-600 */
            z-index: 5;
        }

        @media (max-width: 640px) {
            .roulette-container {
                width: 220px;
                height: 220px;
            }
            .roulette-wheel {
                width: 200px;
                height: 200px;
            }
            /* Estilo para comprovante em tela cheia no mobile */
            #receipt-modal.fullscreen-mobile .receipt-content {
                max-width: 100%;
                height: 100%;
                border-radius: 0;
                border: none;
            }
            #receipt-modal.fullscreen-mobile .receipt-content h3 {
                font-size: 1.5rem; /* Aumenta o t√≠tulo */
            }
            #receipt-modal.fullscreen-mobile .receipt-content .receipt-item, 
            #receipt-modal.fullscreen-mobile .receipt-content .receipt-actions button {
                font-size: 1rem; /* Aumenta o texto e bot√µes */
            }
        }
        /* --- FIM DOS ESTILOS DA ROLETA --- */

        /* Efeito de piscar o saldo */
        @keyframes balance-flash {
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .balance-updated-win {
            animation: balance-flash 0.5s ease-in-out;
            color: #22c55e; /* green-500 */
        }
        .balance-updated-loss {
            animation: balance-flash 0.5s ease-in-out;
            color: #ef4444; /* red-500 */
        }
    </style>
</head>
<body class="bg-black text-white min-h-screen">
    <div id="login-screen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50">
        <div class="bg-gray-900 p-8 rounded-lg shadow-2xl border border-red-600 max-w-md w-full">
            <div class="flex justify-between items-center mb-6">
                <div class="flex items-center">
                    <span class="text-5xl font-bold text-red-600 logo-7">7</span>
                    <span class="text-3xl font-bold ml-2">Reiv<span class="text-red-600">BET</span></span>
                </div>
                <span class="bg-yellow-500 text-black text-xs px-2 py-1 rounded"></span>
            </div>
            
            <form id="login-form" class="space-y-4">
                <div>
                    <label for="username" class="block text-sm font-medium mb-1">Usu√°rio</label>
                    <input type="text" id="username" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600" required>
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium mb-1">Senha</label>
                    <input type="password" id="password" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600" required>
                </div>
                <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300">
                    Entrar
                </button>
                <div class="text-center text-sm">
                    <span class="text-gray-400">N√£o tem uma conta?</span>
                    <button type="button" id="show-register" class="text-red-500 hover:text-red-400 ml-1">Cadastre-se</button>
                </div>
            </form>
            
            <form id="register-form" class="space-y-4 hidden">
                <div>
                    <label for="reg-username" class="block text-sm font-medium mb-1">Usu√°rio</label>
                    <input type="text" id="reg-username" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600" required>
                </div>
                <div>
                    <label for="reg-password" class="block text-sm font-medium mb-1">Senha</label>
                    <input type="password" id="reg-password" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600" required>
                </div>
                <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300">
                    Cadastrar
                </button>
                <div class="text-center text-sm">
                    <span class="text-gray-400">J√° tem uma conta?</span>
                    <button type="button" id="show-login" class="text-red-500 hover:text-red-400 ml-1">Fa√ßa login</button>
                </div>
            </form>
        </div>
    </div>

    <div id="main-app" class="hidden">
        <header class="bg-gray-900 border-b border-gray-800 sticky top-0 z-40">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center">
                    <span class="text-4xl font-bold text-red-600 logo-7">7</span>
                    <span class="text-2xl font-bold ml-2">Reiv<span class="text-red-600">BET</span></span>
                    <span class="bg-yellow-500 text-black text-xs px-2 py-1 rounded ml-3"></span>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="bg-gray-800 px-4 py-2 rounded-lg flex items-center">
                        <span class="text-gray-400 mr-2">Saldo:</span>
                        <span id="user-balance" class="font-bold text-green-500">R$ 0,00</span>
                    </div>
                    <button id="toggle-music" class="bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition duration-300">
                        M√∫sica Desligada üéµ
                    </button>
                    <button id="deposit-btn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition duration-300">
                        Depositar
                    </button>
                    <button id="withdraw-btn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition duration-300">
                        Saque
                    </button>
                    <div class="relative">
                        <div id="user-menu-btn" class="w-10 h-10 rounded-full cursor-pointer bg-gray-800 flex items-center justify-center text-2xl">üí∏</div>
                        <div id="user-menu" class="hidden absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-50 border border-gray-700">
                            <a href="#" id="affiliate-link" class="block px-4 py-2 text-sm hover:bg-gray-700">Indique e Ganhe</a>
                            <a href="#" class="block px-4 py-2 text-sm hover:bg-gray-700" onclick="alert('Hist√≥rico de apostas')">Hist√≥rico</a>
                            <a href="#" class="block px-4 py-2 text-sm hover:bg-gray-700" onclick="alert('Configura√ß√µes da conta')">Configura√ß√µes</a>
                            <div class="border-t border-gray-700"></div>
                            <a href="#" id="logout-btn" class="block px-4 py-2 text-sm hover:bg-gray-700 text-red-500">Sair</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <nav class="bg-gray-900 border-b border-gray-800">
            <div class="container mx-auto px-4">
                <div class="flex space-x-1 overflow-x-auto">
                    <button id="home-tab" class="px-4 py-3 text-sm font-medium bg-gray-800 text-red-500">In√≠cio</button>
                    <button id="casino-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800">Cassino</button>
                    <button id="games-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800">Jogos</button>
                    <button id="exclusive-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800">Exclusivos 7REIVBET</button>
                    <button id="promotions-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800">Promo√ß√µes</button>
                    <button id="support-tab" class="px-4 py-3 text-sm font-medium hover:bg-gray-800">Suporte</button>
                </div>
            </div>
        </nav>

        <main class="container mx-auto px-4 py-6">
            <div id="notifications-container" class="fixed top-20 right-4 space-y-2 z-30"></div>

            <div id="welcome-section" class="welcome-bg rounded-lg p-8 md:p-12 mb-8">
                <div class="max-w-3xl mx-auto text-center">
                    <h1 class="text-4xl md:text-5xl font-bold mb-4">Bem-vindo, <span id="welcome-username" class="text-red-500">Usu√°rio</span>!</h1>
                    <p class="text-xl mb-6">Prepare-se para a melhor experi√™ncia de apostas online. Seu saldo atual: <span id="welcome-balance" class="font-bold text-green-500">R$ 0,00</span></p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                        <div class="bg-gray-900 bg-opacity-70 p-4 rounded-lg border border-gray-700">
                            <div class="text-red-500 text-3xl mb-2"><i class="fas fa-gamepad"></i></div>
                            <h3 class="font-bold mb-2">Jogos Exclusivos</h3>
                            <p class="text-sm text-gray-300">Divers√£o e emo√ß√£o em nossos jogos premium</p>
                        </div>
                        <div class="bg-gray-900 bg-opacity-70 p-4 rounded-lg border border-gray-700">
                            <div class="text-red-500 text-3xl mb-2"><i class="fas fa-gem"></i></div>
                            <h3 class="font-bold mb-2">B√¥nus Di√°rios</h3>
                            <p class="text-sm text-gray-300">Ganhe recompensas todos os dias</p>
                        </div>
                        <div class="bg-gray-900 bg-opacity-70 p-4 rounded-lg border border-gray-700">
                            <div class="text-red-500 text-3xl mb-2"><i class="fas fa-shield-alt"></i></div>
                            <h3 class="font-bold mb-2">Seguran√ßa Total</h3>
                            <p class="text-sm text-gray-300">Seus dados e transa√ß√µes protegidos</p>
                        </div>
                    </div>
                    
                    <button id="start-playing-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-full text-lg transition duration-300 transform hover:scale-105">
                        <i class="fas fa-play mr-2"></i> Come√ßar a Jogar
                    </button>
                </div>
            </div>

            <div id="casino-section" class="hidden">
                <div class="mt-8">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i class="fas fa-coins mr-2 text-red-500"></i> Ca√ßa-N√≠queis ReivBET
                    </h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                            <h3 class="text-lg font-bold mb-4">Configurar Aposta</h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label for="slot-bet-amount" class="block text-sm font-medium mb-1">Valor da aposta (m√≠nimo R$1)</label>
                                    <input type="number" id="slot-bet-amount" min="1" value="1" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                </div>
                                
                                <div>
                                    <label for="auto-spin-count" class="block text-sm font-medium mb-1">Giros autom√°ticos (1-100)</label>
                                    <input type="number" id="auto-spin-count" min="1" max="100" value="10" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                </div>
                                
                                <div class="grid grid-cols-2 gap-2 pt-2">
                                    <button id="spin-slot" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded transition duration-300">
                                        Girar (1x)
                                    </button>
                                    <button id="auto-spin-slot" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded transition duration-300">
                                        Girar Auto
                                    </button>
                                </div>
                                <button id="stop-auto-spin" class="w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-4 rounded transition duration-300 hidden">
                                    Parar Giros
                                </button>
                            </div>
                            
                            <div class="mt-6 pt-4 border-t border-gray-800">
                                <h3 class="text-lg font-bold mb-2">Status da Partida</h3>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Aposta:</span>
                                        <span id="slot-current-bet" class="font-medium">R$ 0,00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Pr√™mio:</span>
                                        <span id="slot-win-amount" class="font-medium text-green-500">R$ 0,00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">√öltimo Resultado:</span>
                                        <span id="slot-last-result" class="font-medium">-</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Giros Restantes:</span>
                                        <span id="slot-spins-left" class="font-medium">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-2">
                            <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-bold">Ca√ßa-N√≠queis</h3>
                                    <div id="slot-status" class="text-sm px-3 py-1 bg-gray-800 rounded-full">
                                        Pronto para jogar
                                    </div>
                                </div>
                                
                                <div class="slot-machine bg-gray-800 p-4 rounded-lg">
                                    <div class="slots flex justify-center gap-4 mb-6">
                                        <div class="slot-reel bg-gray-700 rounded flex items-center justify-center text-4xl">üçí</div>
                                        <div class="slot-reel bg-gray-700 rounded flex items-center justify-center text-4xl">7Ô∏è‚É£</div>
                                        <div class="slot-reel bg-gray-700 rounded flex items-center justify-center text-4xl">üí∞</div>
                                    </div>
                                </div>
                                
                                <div class="mt-6 pt-4 border-t border-gray-800">
                                    <h3 class="text-lg font-bold mb-2">Como jogar</h3>
                                    <ul class="list-disc pl-5 space-y-1 text-sm text-gray-300">
                                        <li>Escolha o valor da aposta</li>
                                        <li>Clique em "Girar Rodas" para jogar</li>
                                        <li>3 s√≠mbolos iguais = vit√≥ria</li>
                                        <li>üçíüçíüçí = 2x | 7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£ = 5x | üí∞üí∞üí∞ = 10x</li>
                                        <li>Qualquer combina√ß√£o de 7Ô∏è‚É£ e üí∞ = 3x</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-12">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i class="fas fa-circle-notch mr-2 text-red-500"></i> Roleta ReivBET
                    </h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                            <h3 class="text-lg font-bold mb-4">Configurar Aposta</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="roulette-bet-amount" class="block text-sm font-medium mb-1">Valor da aposta (m√≠nimo R$1)</label>
                                    <input type="number" id="roulette-bet-amount" min="1" value="1" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium mb-1">Apostar em:</label>
                                    <div class="grid grid-cols-2 gap-2">
                                        <button data-bet-type="red" class="roulette-bet-btn bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded transition duration-300">
                                            Vermelho (2x)
                                        </button>
                                        <button data-bet-type="black" class="roulette-bet-btn bg-gray-800 hover:bg-gray-700 text-white py-2 px-4 rounded transition duration-300">
                                            Preto (2x)
                                        </button>
                                        <button data-bet-type="green" class="roulette-bet-btn bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition duration-300 col-span-2">
                                            Verde (14x)
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 pt-4 border-t border-gray-800">
                                <h3 class="text-lg font-bold mb-2">Status</h3>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Aposta:</span>
                                        <span id="roulette-current-bet" class="font-medium">R$ 0,00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Tipo:</span>
                                        <span id="roulette-bet-type" class="font-medium">-</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Resultado:</span>
                                        <span id="roulette-result" class="font-medium">-</span>
                                    </div>
                                    <div class="flex justify-between font-bold">
                                        <span>Pr√™mio:</span>
                                        <span id="roulette-win-amount" class="text-green-500">R$ 0,00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-2">
                            <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 h-full flex flex-col items-center justify-center">
                                <div class="roulette-container">
                                    <div class="roulette-pointer"></div>
                                    <div id="roulette-wheel-graphic" class="roulette-wheel">
                                        </div>
                                    <div class="roulette-center"></div>
                                </div>
                                <div id="roulette-status" class="text-lg font-bold mt-4">Fa√ßa sua aposta</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-12">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i class="fas fa-club mr-2 text-red-500"></i> Blackjack ReivBET
                    </h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                            <h3 class="text-lg font-bold mb-4">Configurar Aposta</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="blackjack-bet-amount" class="block text-sm font-medium mb-1">Valor da aposta (m√≠nimo R$1)</label>
                                    <input type="number" id="blackjack-bet-amount" min="1" value="1" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                </div>
                                
                                <button id="blackjack-start" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded transition duration-300">
                                    Iniciar Jogo
                                </button>
                            </div>
                            
                            <div class="mt-6 pt-4 border-t border-gray-800">
                                <h3 class="text-lg font-bold mb-2">Status</h3>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Aposta:</span>
                                        <span id="blackjack-current-bet" class="font-medium">R$ 0,00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Dealer:</span>
                                        <span id="blackjack-dealer-score" class="font-medium">-</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Jogador:</span>
                                        <span id="blackjack-player-score" class="font-medium">-</span>
                                    </div>
                                    <div class="flex justify-between font-bold">
                                        <span>Resultado:</span>
                                        <span id="blackjack-result" class="text-green-500">-</span>
                                    </div>
                                </div>
                                
                                <div id="blackjack-actions" class="mt-4 grid grid-cols-2 gap-2 hidden">
                                    <button id="blackjack-hit" class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded">
                                        Pedir Carta
                                    </button>
                                    <button id="blackjack-stand" class="bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded">
                                        Parar
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-2">
                            <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-bold">Mesa de Blackjack</h3>
                                    <div id="blackjack-status" class="text-sm px-3 py-1 bg-gray-800 rounded-full">
                                        Aguardando aposta
                                    </div>
                                </div>
                                
                                <div class="blackjack-table space-y-8">
                                    <div class="dealer-cards">
                                        <h4 class="text-md font-medium mb-2">Dealer: <span id="dealer-count">?</span></h4>
                                        <div class="flex gap-2">
                                            <div class="card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl">?</div>
                                            <div id="dealer-cards-container" class="flex gap-2"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="player-cards">
                                        <h4 class="text-md font-medium mb-2">Voc√™: <span id="player-count">0</span></h4>
                                        <div id="player-cards-container" class="flex gap-2"></div>
                                    </div>
                                </div>
                                
                                <div class="mt-6 pt-4 border-t border-gray-800">
                                    <h3 class="text-lg font-bold mb-2">Como jogar</h3>
                                    <ul class="list-disc pl-5 space-y-1 text-sm text-gray-300">
                                        <li>Obtenha uma m√£o mais pr√≥xima de 21 que o dealer sem estourar</li>
                                        <li>Cartas valem seu valor num√©rico, figuras valem 10, √Ås vale 1 ou 11</li>
                                        <li>Blackjack (√Ås + 10) paga 3:2</li>
                                        <li>Vit√≥ria normal paga 1:1</li>
                                        <li>Se o dealer estourar, todos os jogadores que n√£o estouraram ganham</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-12">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i class="fas fa-spade mr-2 text-red-500"></i> Video Poker ReivBET
                    </h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                            <h3 class="text-lg font-bold mb-4">Configurar Aposta</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="poker-bet-amount" class="block text-sm font-medium mb-1">Valor da aposta (m√≠nimo R$1)</label>
                                    <input type="number" id="poker-bet-amount" min="1" value="1" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                </div>
                                
                                <button id="poker-deal" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded transition duration-300">
                                    Distribuir Cartas
                                </button>
                                
                                <button id="poker-draw" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded transition duration-300 hidden">
                                    Trocar Cartas
                                </button>
                            </div>
                            
                            <div class="mt-6 pt-4 border-t border-gray-800">
                                <h3 class="text-lg font-bold mb-2">Status</h3>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Aposta:</span>
                                        <span id="poker-current-bet" class="font-medium">R$ 0,00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">M√£o:</span>
                                        <span id="poker-hand" class="font-medium">-</span>
                                    </div>
                                    <div class="flex justify-between font-bold">
                                        <span>Pr√™mio:</span>
                                        <span id="poker-win-amount" class="text-green-500">R$ 0,00</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-4 pt-4 border-t border-gray-800">
                                <h3 class="text-lg font-bold mb-2">Pagamentos</h3>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>Royal Flush - 250x</li>
                                    <li>Straight Flush - 50x</li>
                                    <li>Quadra - 25x</li>
                                    <li>Full House - 9x</li>
                                    <li>Flush - 6x</li>
                                    <li>Sequ√™ncia - 4x</li>
                                    <li>Trinca - 3x</li>
                                    <li>Dois Pares - 2x</li>
                                    <li>Par de Valetes+ - 1x</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-2">
                            <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-bold">Video Poker</h3>
                                    <div id="poker-status" class="text-sm px-3 py-1 bg-gray-800 rounded-full">
                                        Fa√ßa sua aposta
                                    </div>
                                </div>
                                
                                <div class="poker-hand flex justify-center gap-2 mb-8">
                                    <div class="card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl">?</div>
                                    <div class="card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl">?</div>
                                    <div class="card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl">?</div>
                                    <div class="card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl">?</div>
                                    <div class="card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl">?</div>
                                </div>
                                
                                <div class="mt-6 pt-4 border-t border-gray-800">
                                    <h3 class="text-lg font-bold mb-2">Como jogar</h3>
                                    <ul class="list-disc pl-5 space-y-1 text-sm text-gray-300">
                                        <li>Fa√ßa sua aposta e clique em "Distribuir Cartas"</li>
                                        <li>Selecione as cartas que deseja descartar</li>
                                        <li>Clique em "Trocar Cartas" para receber novas cartas</li>
                                        <li>O pr√™mio √© pago de acordo com a for√ßa da sua m√£o final</li>
                                        <li>O jogo usa um baralho padr√£o de 52 cartas</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="games-section" class="hidden">
                <div class="mt-12">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i class="fas fa-gamepad mr-2 text-red-500"></i> Campo Minado
                    </h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                            <h3 class="text-lg font-bold mb-4">Configura√ß√£o da Partida</h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label for="bet-amount" class="block text-sm font-medium mb-1">Valor da aposta (m√≠nimo R$1)</label>
                                    <input type="number" id="bet-amount" min="1" value="1" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                </div>
                                
                                <div>
                                    <label for="mines-count" class="block text-sm font-medium mb-1">N√∫mero de minas (1-10)</label>
                                    <select id="mines-count" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                        <option value="1">1 mina (1.10x)</option>
                                        <option value="2">2 minas (1.25x)</option>
                                        <option value="3" selected>3 minas (1.40x)</option>
                                        <option value="4">4 minas (1.60x)</option>
                                        <option value="5">5 minas (2.00x)</option>
                                        <option value="6">6 minas (2.50x)</option>
                                        <option value="7">7 minas (3.00x)</option>
                                        <option value="8">8 minas (3.50x)</option>
                                        <option value="9">9 minas (3.75x)</option>
                                        <option value="10">10 minas (4.00x)</option>
                                    </select>
                                </div>
                                
                                <div class="pt-2">
                                    <button id="start-game" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded transition duration-300">
                                        Iniciar Jogo
                                    </button>
                                </div>
                            </div>
                            
                            <div class="mt-6 pt-4 border-t border-gray-800">
                                <h3 class="text-lg font-bold mb-2">Status da Partida</h3>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Aposta:</span>
                                        <span id="current-bet" class="font-medium">R$ 0,00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Minas:</span>
                                        <span id="current-mines" class="font-medium">0</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Cliques seguros:</span>
                                        <span id="safe-clicks" class="font-medium">0</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Multiplicador:</span>
                                        <span id="current-multiplier" class="font-medium text-green-500">1.00x</span>
                                    </div>
                                    <div class="flex justify-between font-bold">
                                        <span>Ganho potencial:</span>
                                        <span id="potential-win" class="text-green-500">R$ 0,00</span>
                                    </div>
                                </div>
                                
                                <button id="cash-out" class="w-full mt-4 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded transition duration-300 hidden">
                                    Retirar
                                </button>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-2">
                            <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-bold">Tabuleiro</h3>
                                    <div id="game-status" class="text-sm px-3 py-1 bg-gray-800 rounded-full">
                                        Aguardando in√≠cio...
                                    </div>
                                </div>
                                
                                <div id="game-board" class="grid grid-cols-5 gap-2">
                                    <div class="text-center py-4 text-gray-600">
                                        Configure a partida e clique em "Iniciar Jogo"
                                    </div>
                                </div>
                                
                                <div class="mt-6 pt-4 border-t border-gray-800">
                                    <h3 class="text-lg font-bold mb-2">Como jogar</h3>
                                    <ul class="list-disc pl-5 space-y-1 text-sm text-gray-300">
                                        <li>Escolha o valor da aposta e o n√∫mero de minas</li>
                                        <li>Clique em "Iniciar Jogo" para come√ßar</li>
                                        <li>Clique nos blocos para revel√°-los</li>
                                        <li>Cada bloco seguro aumenta seu multiplicador</li>
                                        <li>Se encontrar uma mina, voc√™ perde a aposta</li>
                                        <li>Clique em "Retirar" a qualquer momento para garantir seus ganhos</li>
                                        <li>Quanto mais minas, maior o multiplicador inicial</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-12">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i class="fas fa-plane mr-2 text-red-500"></i> Aviador Reiv
                    </h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                            <h3 class="text-lg font-bold mb-4">Configurar Aposta</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="av-bet-amount" class="block text-sm font-medium mb-1">Valor da aposta (m√≠nimo R$1)</label>
                                    <input type="number" id="av-bet-amount" min="1" value="1" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                </div>
                                <button id="av-start-game" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded transition duration-300">
                                    Iniciar Voo
                                </button>
                            </div>
                            
                            <div class="mt-6 pt-4 border-t border-gray-800">
                                <h3 class="text-lg font-bold mb-2">Status</h3>
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Aposta:</span>
                                        <span id="av-current-bet" class="font-medium">R$ 0,00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Multiplicador:</span>
                                        <span id="av-multiplier" class="font-medium text-green-500">1.00x</span>
                                    </div>
                                    <div class="flex justify-between font-bold">
                                        <span>Ganho:</span>
                                        <span id="av-potential-win" class="text-green-500">R$ 0,00</span>
                                    </div>
                                </div>
                                
                                <button id="av-cash-out" class="w-full mt-4 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded transition duration-300 hidden">
                                    Retirar
                                </button>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-2">
                            <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 h-full flex flex-col items-center justify-center">
                                <div id="av-game-area" class="relative w-full h-64 bg-gradient-to-b from-gray-900 to-black rounded-lg overflow-hidden">
                                    <div id="av-plane" class="absolute left-4 top-4 text-3xl transition-all duration-1000">
                                        ‚úàÔ∏è
                                    </div>
                                    <div id="av-trail" class="absolute left-4 top-8 w-0 h-1 bg-red-600 transition-all duration-1000"></div>
                                </div>
                                <div class="mt-4 text-center">
                                    <div id="av-status" class="text-lg font-bold">Aguardando in√≠cio...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-12">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i class="fas fa-dice mr-2 text-red-500"></i> Dados ReivBET
                    </h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="bg-gray-900 p-6 rounded-lg border border-gray-800">
                            <h3 class="text-lg font-bold mb-4">Apostar no Dado</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="dice-bet-amount" class="block text-sm font-medium mb-1">Valor da aposta (m√≠nimo R$1)</label>
                                    <input type="number" id="dice-bet-amount" min="1" value="1" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                </div>
                                <div>
                                    <label for="dice-number" class="block text-sm font-medium mb-1">Escolha um n√∫mero (1-6)</label>
                                    <select id="dice-number" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                    </select>
                                </div>
                                <button id="dice-roll" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded transition duration-300">
                                    Girar Dado
                                </button>
                            </div>
                        </div>
                        
                        <div class="lg:col-span-2">
                            <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 h-full flex flex-col items-center justify-center">
                                <div class="text-6xl mb-4" id="dice-display">
                                    <i class="fas fa-dice-d6 text-gray-600"></i>
                                </div>
                                <div id="dice-result" class="text-xl font-bold mb-2"></div>
                                <div id="dice-status" class="text-sm text-gray-400">Configure sua aposta e clique em "Girar Dado"</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="exclusive-section" class="hidden">
                <div class="mt-8">
                    <h2 class="text-2xl font-bold mb-6 flex items-center justify-center">
                        üé∞ REIV Tiger‚Ñ¢ üêÖüî•
                    </h2>
                    
                    <div class="max-w-2xl mx-auto">
                        <div id="reiv-tiger-box" class="bg-gradient-to-br from-gray-900 via-black to-red-900 p-6 rounded-lg border-2 border-gray-800 text-center transition-all duration-300">
                            <div class="text-8xl mb-4 animate-pulse">üêÖ</div>
                            <h3 class="text-lg font-bold mb-2 text-yellow-400">O RUGIDO DA FORTUNA</h3>
                            <p class="text-gray-400 mb-6">Encare o tigre e a sorte pode sorrir para voc√™!</p>
                            
                            <div class="bg-black bg-opacity-40 rounded-lg p-4 mb-6">
                                <p class="text-gray-500 text-sm">Pr√™mio do Giro</p>
                                <p id="reiv-tiger-value" class="text-5xl font-bold text-white">-</p>
                            </div>
                            
                            <div id="reiv-tiger-status" class="text-lg font-semibold mb-6 h-8">&nbsp;</div>

                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <button id="reiv-tiger-spin" class="w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-3 px-4 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg shadow-yellow-500/20">
                                    Girar üêÖ
                                </button>
                                <button id="reiv-tiger-auto-spin" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-4 rounded-lg transition duration-300">
                                    Auto Girar üîÅ
                                </button>
                                <button id="reiv-tiger-stop" class="w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-4 rounded-lg transition duration-300 hidden">
                                    Parar üîï
                                </button>
                            </div>

                            <div class="mt-8 pt-6 border-t border-gray-700">
                                    <h3 class="text-lg font-bold mb-2">Como jogar</h3>
                                    <ul class="list-none space-y-2 text-sm text-gray-300">
                                        <li>Custo por giro: <span class="font-bold text-red-500">R$100</span>. Certifique-se de ter saldo.</li>
                                        <li>O tigre sorteia um valor de <span class="font-bold text-yellow-400">R$10</span> a <span class="font-bold text-yellow-400">R$500</span>.</li>
                                        <li>Se o valor sorteado for <span class="font-bold text-green-500">R$250 ou mais</span>, voc√™ GANHA o valor sorteado!</li>
                                        <li>Se o valor for <span class="font-bold text-red-500">menor que R$250</span>, voc√™ perde o custo do giro.</li>
                                    </ul>
                                </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="promotions-section" class="hidden mt-8">
                <h2 class="text-3xl font-bold mb-8 text-center text-red-500 flex items-center justify-center">
                    <i class="fas fa-gift mr-3"></i>Promo√ß√µes
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    
                    <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-yellow-400 text-5xl mb-4"><i class="fas fa-hand-holding-usd"></i></div>
                        <h3 class="text-xl font-bold mb-2">B√¥nus de Boas-Vindas</h3>
                        <p class="text-gray-400">Receba <span class="font-bold text-white">100% de b√¥nus at√© R$200</span> no seu primeiro dep√≥sito. Dobre suas chances de ganhar!</p>
                    </div>
                    
                    <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-blue-400 text-5xl mb-4"><i class="fas fa-coins"></i></div>
                        <h3 class="text-xl font-bold mb-2">Giros Gr√°tis</h3>
                        <p class="text-gray-400">Participe das nossas promo√ß√µes semanais e ganhe <span class="font-bold text-white">giros gr√°tis</span> nos ca√ßa-n√≠queis mais populares.</p>
                    </div>
                   
                    <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-green-400 text-5xl mb-4"><i class="fas fa-undo-alt"></i></div>
                        <h3 class="text-xl font-bold mb-2">Cashback Semanal</h3>
                        <p class="text-gray-400">Receba de volta uma parte de suas perdas toda semana. Com a REIVBET, voc√™ sempre tem uma segunda chance.</p>
                    </div>
                    
                    <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-purple-400 text-5xl mb-4"><i class="fas fa-tasks"></i></div>
                        <h3 class="text-xl font-bold mb-2">Miss√µes Di√°rias</h3>
                        <p class="text-gray-400">Complete desafios di√°rios em nossos jogos e ganhe <span class="font-bold text-white">pr√™mios exclusivos</span>, como saldo extra e giros.</p>
                    </div>
                    
                    <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-red-500 text-5xl mb-4"><i class="fas fa-crown"></i></div>
                        <h3 class="text-xl font-bold mb-2">Programa VIP</h3>
                        <p class="text-gray-400">Jogue, acumule pontos e suba de n√≠vel no nosso <span class="font-bold text-white">Clube VIP</span> para desbloquear benef√≠cios incr√≠veis e limites maiores.</p>
                    </div>

                     <div class="bg-gray-900 p-6 rounded-lg border border-gray-800 text-center transform hover:scale-105 transition-transform duration-300 flex flex-col justify-center">
                        <div class="text-teal-400 text-5xl mb-4"><i class="fas fa-rocket"></i></div>
                        <h3 class="text-xl font-bold mb-2">E Muito Mais!</h3>
                        <p class="text-gray-400">Fique de olho na aba de promo√ß√µes para n√£o perder nenhuma novidade e oferta especial.</p>
                    </div>
                </div>
            </div>

            <div id="support-section" class="hidden mt-8">
                <h2 class="text-3xl font-bold mb-8 text-center text-red-500 flex items-center justify-center">
                    <i class="fas fa-headset mr-3"></i>Atendimento e Suporte
                </h2>
                <div class="bg-gray-900 rounded-lg border border-gray-800 p-8 grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="text-center md:text-left">
                        <h3 class="text-2xl font-bold mb-4">Entre em Contato</h3>
                        <p class="text-gray-400 mb-6">Nossa equipe est√° pronta para ajudar com qualquer d√∫vida ou problema que voc√™ possa ter. Seu jogo √© nossa prioridade.</p>
                        <div class="space-y-4">
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <p class="text-sm text-gray-500">E-mail de Suporte</p>
                                <a href="mailto:suportereivbet@gmail.com" class="text-lg font-bold text-red-500 hover:text-red-400">suportereivbet@gmail.com</a>
                            </div>
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <p class="text-sm text-gray-500">Disponibilidade</p>
                                <p class="text-lg font-bold text-white">Atendimento 24 horas por dia, 7 dias por semana via e-mail.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-center">
                        <img src="https://i.imgur.com/Z31ZLCg.jpeg" alt="Suporte REIVBET" class="rounded-lg shadow-2xl w-full max-w-sm h-auto object-cover">
                    </div>
                </div>
            </div>

            <div id="affiliate-section" class="hidden mt-8">
                <h2 class="text-3xl font-bold mb-8 text-center text-red-500 flex items-center justify-center">
                    <i class="fas fa-users mr-3"></i>Indique e Ganhe
                </h2>
                <div class="max-w-4xl mx-auto bg-gray-900 rounded-lg border border-gray-800 p-6 md:p-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="text-center md:text-left">
                            <h3 class="text-2xl font-bold mb-4">Convide seus amigos!</h3>
                            <p class="text-gray-400 mb-6">Compartilhe seu link exclusivo e ganhe b√¥nus toda vez que um amigo se cadastrar e jogar. Quanto mais amigos voc√™ convida, mais voc√™ ganha!</p>
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <p class="text-sm text-gray-500 mb-2">Seu link de afiliado:</p>
                                <div class="flex flex-col sm:flex-row items-center justify-between bg-black p-3 rounded">
                                    <span id="affiliate-user-link" class="font-mono text-sm break-all mb-2 sm:mb-0"></span>
                                    <button id="copy-affiliate-link" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300 w-full sm:w-auto">
                                        <i class="far fa-copy mr-2"></i>Copiar
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                            <h4 class="text-xl font-bold mb-4 text-center">Suas Estat√≠sticas</h4>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center bg-gray-900 p-3 rounded-lg">
                                    <span class="text-gray-300"><i class="fas fa-user-check mr-2 text-blue-400"></i>Amigos Indicados:</span>
                                    <span id="friends-indicated" class="font-bold text-xl text-white">0</span>
                                </div>
                                <div class="flex justify-between items-center bg-gray-900 p-3 rounded-lg">
                                    <span class="text-gray-300"><i class="fas fa-dollar-sign mr-2 text-green-400"></i>B√¥nus Gerado:</span>
                                    <span id="bonus-generated" class="font-bold text-xl text-green-500">R$ 0,00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div id="deposit-modal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50">
                <div class="bg-gray-900 p-6 rounded-lg border border-red-600 max-w-md w-full">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">Realizar Dep√≥sito</h3>
                        <button id="close-deposit-modal" class="text-gray-400 hover:text-white">&times;</button>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <label for="deposit-amount" class="block text-sm font-medium mb-1">Valor do dep√≥sito (m√≠nimo R$10)</label>
                            <input type="number" id="deposit-amount" min="10" placeholder="10" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                        </div>
                        <div>
                            <label for="payment-method" class="block text-sm font-medium mb-1">M√©todo de Pagamento</label>
                            <select id="payment-method" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                                <option value="pix" selected>PIX</option>
                                <option value="boleto">Boleto</option>
                                <option value="cartao">Cart√£o de Cr√©dito</option>
                            </select>
                        </div>
                        <div id="pix-info-section" class="bg-gray-800 p-4 rounded-lg">
                            <h4 class="font-medium mb-2">Chave PIX (E-mail):</h4>
                            <div class="flex items-center justify-between bg-black p-3 rounded">
                                <span id="pix-key" class="font-mono">reivcontato@gmail.com</span>
                                <button id="copy-pix" class="text-red-500 hover:text-red-400">
                                    <i class="far fa-copy"></i>
                                </button>
                            </div>
                            <p class="text-xs text-gray-400 mt-2">Envie o valor exato para esta chave PIX. O saldo ser√° creditado em alguns minutos.</p>
                        </div>
                        <div id="boleto-info-section" class="hidden bg-gray-800 p-4 rounded-lg">
                            <p class="text-sm text-center">A op√ß√£o de Boleto est√° temporariamente indispon√≠vel. Por favor, utilize PIX.</p>
                        </div>
                         <div id="cartao-info-section" class="hidden bg-gray-800 p-4 rounded-lg">
                            <p class="text-sm text-center">A op√ß√£o de Cart√£o est√° temporariamente indispon√≠vel. Por favor, utilize PIX.</p>
                        </div>
                        <button id="confirm-deposit" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300">
                            Confirmar Dep√≥sito
                        </button>
                    </div>
                </div>
            </div>

            <div id="withdraw-modal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50">
                <div class="bg-gray-900 p-6 rounded-lg border border-red-600 max-w-md w-full">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">Solicitar Saque</h3>
                        <button id="close-withdraw-modal" class="text-gray-400 hover:text-white">&times;</button>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <label for="withdraw-amount" class="block text-sm font-medium mb-1">Valor do saque (m√≠nimo R$50)</label>
                            <input type="number" id="withdraw-amount" min="50" placeholder="50" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                            <p class="text-xs text-gray-400 mt-1">Seu saldo atual: <span id="withdraw-balance-info">R$ 0,00</span></p>
                        </div>
                        <div>
                            <label for="withdraw-pix-key" class="block text-sm font-medium mb-1">Sua Chave PIX (e-mail ou celular)</label>
                            <input type="text" id="withdraw-pix-key" placeholder="seu.email@exemplo.com" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-red-600">
                        </div>
                        <button id="confirm-withdraw" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300">
                            Solicitar Saque
                        </button>
                        <p class="text-xs text-gray-500 text-center">As solicita√ß√µes de saque s√£o processadas em at√© 24 horas √∫teis.</p>
                    </div>
                </div>
            </div>

            <div id="receipt-modal" class="hidden fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4">
                <div class="receipt-content bg-gray-900 p-6 rounded-lg border border-red-600 max-w-md w-full text-white">
                    <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
                        <h3 class="text-xl font-bold">Comprovante de Transa√ß√£o</h3>
                        <button id="close-receipt-modal" class="text-gray-400 hover:text-white text-2xl">&times;</button>
                    </div>
                    <div id="receipt-details" class="space-y-3 text-sm">
                        <div class="receipt-item flex justify-between">
                            <span class="text-gray-400">Tipo:</span>
                            <span id="receipt-type" class="font-bold"></span>
                        </div>
                        <div class="receipt-item flex justify-between">
                            <span class="text-gray-400">Valor:</span>
                            <span id="receipt-amount" class="font-bold"></span>
                        </div>
                        <div class="receipt-item flex justify-between">
                            <span class="text-gray-400">Status:</span>
                            <span id="receipt-status" class="font-bold"></span>
                        </div>
                        <div class="receipt-item flex justify-between">
                            <span class="text-gray-400">Data e Hora:</span>
                            <span id="receipt-datetime" class="font-mono"></span>
                        </div>
                        <div class="receipt-item flex justify-between">
                            <span class="text-gray-400">ID da Transa√ß√£o:</span>
                            <span id="receipt-id" class="font-mono"></span>
                        </div>
                    </div>
                    <div class="receipt-actions mt-6 pt-4 border-t border-gray-700 flex flex-col sm:flex-row gap-2">
                        <button id="copy-receipt" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300">
                            <i class="far fa-copy mr-2"></i>Copiar Comprovante
                        </button>
                        <button id="close-receipt-btn" class="w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition duration-300">
                            Fechar
                        </button>
                    </div>
                </div>
            </div>

            <div id="admin-withdraw-panel" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50">
                <div class="bg-gray-900 p-6 rounded-lg border border-red-600 max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">Painel de Admin - Saques Pendentes</h3>
                        <button id="close-admin-panel" class="text-gray-400 hover:text-white">&times;</button>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b border-gray-700">
                                    <th class="text-left py-2">Usu√°rio</th>
                                    <th class="text-left py-2">Valor</th>
                                    <th class="text-left py-2">Chave PIX</th>
                                    <th class="text-left py-2">Data</th>
                                    <th class="text-left py-2">Status</th>
                                    <th class="text-left py-2">A√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody id="withdraw-requests">
                                </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>

        <footer class="bg-gray-900 border-t border-gray-800 mt-12 py-8">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div>
                        <h3 class="text-lg font-bold mb-4 flex items-center">
                            <span class="text-2xl font-bold text-red-600 logo-7 mr-2">7</span>
                            Reiv<span class="text-red-600">BET</span>
                        </h3>
                        <p class="text-sm text-gray-400">A casa de apostas mais arriscada e recompensadora do Brasil.</p>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">Links R√°pidos</h4>
                        <ul class="space-y-2 text-sm text-gray-400">
                            <li><a href="#" class="hover:text-red-500">In√≠cio</a></li>
                            <li><a href="#" class="hover:text-red-500">Cassino</a></li>
                            <li><a href="#" class="hover:text-red-500">Esportes</a></li>
                            <li><a href="#" class="hover:text-red-500">Promo√ß√µes</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">Suporte</h4>
                        <ul class="space-y-2 text-sm text-gray-400">
                            <li><a href="#" class="hover:text-red-500">FAQ</a></li>
                            <li><a href="#" class="hover:text-red-500">Chat ao Vivo</a></li>
                            <li><a href="#" class="hover:text-red-500">E-mail</a></li>
                            <li><a href="#" class="hover:text-red-500">Termos de Uso</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">Seguran√ßa</h4>
                        <div class="flex space-x-4 mb-4">
                            <div class="w-12 h-8 bg-gray-800 rounded flex items-center justify-center">
                                <i class="fas fa-lock text-green-500"></i>
                            </div>
                            <div class="w-12 h-8 bg-gray-800 rounded flex items-center justify-center">
                                <i class="fas fa-shield-alt text-blue-500"></i>
                            </div>
                            <div class="w-12 h-8 bg-gray-800 rounded flex items-center justify-center">
                                <i class="fas fa-user-secret text-purple-500"></i>
                            </div>
                        </div>
                        <p class="text-xs text-gray-500">Jogue com responsabilidade. Apenas para maiores de 18 anos.</p>
                    </div>
                </div>
                <div class="border-t border-gray-800 mt-8 pt-6 text-sm text-gray-500 text-center">
                    <div id="user-location-info" class="mb-4 text-xs font-mono">
                        Buscando localiza√ß√£o...
                    </div>
                    <p>¬© 2023 ReivBET. Todos os direitos reservados.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <audio id="bg-music" loop class="hidden">
        <source src="https://cdn.pixabay.com/download/audio/2022/10/16/audio_2e7f7fa0e6.mp3?filename=lofi-study-112191.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Database simulation using localStorage
        const usersDB = {
            getUsers: () => {
                const users = localStorage.getItem('reivbet_users');
                return users ? JSON.parse(users) : {};
            },
            saveUsers: (users) => {
                localStorage.setItem('reivbet_users', JSON.stringify(users));
            },
            getUser: (username) => {
                const users = usersDB.getUsers();
                return users[username] || null;
            },
            createUser: (username, password) => {
                const users = usersDB.getUsers();
                if (users[username]) {
                    return { error: 'Usu√°rio j√° existe' };
                }
                
                users[username] = {
                    username,
                    password,
                    balance: 0, // Todos come√ßam com saldo zerado
                    createdAt: new Date().toISOString()
                };
                
                usersDB.saveUsers(users);
                return { user: users[username] };
            },
            updateUser: (username, data) => {
                const users = usersDB.getUsers();
                if (!users[username]) {
                    return { error: 'Usu√°rio n√£o encontrado' };
                }
                
                users[username] = { ...users[username], ...data };
                usersDB.saveUsers(users);
                return { user: users[username] };
            }
        };

        // Current user
        let currentUser = null;

        // DOM Elements
        const loginScreen = document.getElementById('login-screen');
        const mainApp = document.getElementById('main-app');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const showRegister = document.getElementById('show-register');
        const showLogin = document.getElementById('show-login');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const regUsernameInput = document.getElementById('reg-username');
        const regPasswordInput = document.getElementById('reg-password');
        const userBalance = document.getElementById('user-balance');
        const logoutBtn = document.getElementById('logout-btn');
        const welcomeUsername = document.getElementById('welcome-username');
        const welcomeBalance = document.getElementById('welcome-balance');
        const homeTab = document.getElementById('home-tab');
        const casinoTab = document.getElementById('casino-tab');
        const gamesTab = document.getElementById('games-tab');
        const exclusiveTab = document.getElementById('exclusive-tab');
        const promotionsTab = document.getElementById('promotions-tab'); // NOVO
        const supportTab = document.getElementById('support-tab'); // NOVO
        const affiliateLink = document.getElementById('affiliate-link'); // NOVO
        const welcomeSection = document.getElementById('welcome-section');
        const casinoSection = document.getElementById('casino-section');
        const gamesSection = document.getElementById('games-section');
        const exclusiveSection = document.getElementById('exclusive-section');
        const promotionsSection = document.getElementById('promotions-section'); // NOVO
        const supportSection = document.getElementById('support-section'); // NOVO
        const affiliateSection = document.getElementById('affiliate-section'); // NOVO
        const startPlayingBtn = document.getElementById('start-playing-btn');

        // Event Listeners
        showRegister.addEventListener('click', () => {
            loginForm.classList.add('hidden');
            registerForm.classList.remove('hidden');
        });

        showLogin.addEventListener('click', () => {
            registerForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        });

        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const username = usernameInput.value.trim();
            const password = passwordInput.value.trim();
            
            if (!username || !password) {
                alert('Por favor, preencha todos os campos');
                return;
            }
            
            const user = usersDB.getUser(username);
            
            if (!user || user.password !== password) {
                alert('Usu√°rio ou senha incorretos');
                return;
            }
            
            // Login successful
            currentUser = user;
            localStorage.setItem('reivbet_current_user', JSON.stringify(user));
            
            // Hide login screen and show main app
            loginScreen.classList.add('hidden');
            mainApp.classList.remove('hidden');
            
            // Update UI with user data
            updateUserData();
            startRandomNotifications();
            updateUserLocationTime();
            
            // Show welcome message
            welcomeUsername.textContent = currentUser.username;
            
            // Set home tab as active by default
            homeTab.click();
        });
        
        // Navigation Helper Function
        function handleTabClick(activeTab, activeSection) {
            const tabs = [homeTab, casinoTab, gamesTab, exclusiveTab, promotionsTab, supportTab, affiliateLink];
            const sections = [welcomeSection, casinoSection, gamesSection, exclusiveSection, promotionsSection, supportSection, affiliateSection];

            tabs.forEach(tab => tab.classList.remove('bg-gray-800', 'text-red-500'));
            sections.forEach(section => section.classList.add('hidden'));

            if(activeTab) activeTab.classList.add('bg-gray-800', 'text-red-500');
            activeSection.classList.remove('hidden');
        }
        
        // Navigation Handler for Affiliate Section
        affiliateLink.addEventListener('click', (e) => {
            e.preventDefault();
            handleTabClick(null, affiliateSection); // No tab to highlight in the main nav
            document.getElementById('user-menu').classList.add('hidden'); // Hide dropdown

            // Populate Affiliate Data
            document.getElementById('affiliate-user-link').textContent = `https://reivbet.com/?ref=${currentUser.username.toUpperCase()}`;
            document.getElementById('friends-indicated').textContent = Math.floor(Math.random() * 100);
            document.getElementById('bonus-generated').textContent = `R$ ${(Math.random() * 500).toFixed(2)}`;
        });

        // Navigation between sections
        homeTab.addEventListener('click', () => handleTabClick(homeTab, welcomeSection));
        casinoTab.addEventListener('click', () => handleTabClick(casinoTab, casinoSection));
        gamesTab.addEventListener('click', () => handleTabClick(gamesTab, gamesSection));
        exclusiveTab.addEventListener('click', () => handleTabClick(exclusiveTab, exclusiveSection));
        promotionsTab.addEventListener('click', () => handleTabClick(promotionsTab, promotionsSection));
        supportTab.addEventListener('click', () => handleTabClick(supportTab, supportSection));


        startPlayingBtn.addEventListener('click', () => {
            gamesTab.click();
        });

        registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const username = regUsernameInput.value.trim();
            const password = regPasswordInput.value.trim();
            
            if (!username || !password) {
                alert('Por favor, preencha todos os campos');
                return;
            }
            
            if (password.length < 4) {
                alert('A senha deve ter pelo menos 4 caracteres');
                return;
            }
            
            const { user, error } = usersDB.createUser(username, password);
            
            if (error) {
                alert(error);
                return;
            }
            
            // Registration successful, auto-login
            currentUser = user;
            localStorage.setItem('reivbet_current_user', JSON.stringify(user));
            
            // Hide login screen and show main app
            loginScreen.classList.add('hidden');
            mainApp.classList.remove('hidden');
            
            // Update UI with user data
            updateUserData();
            startRandomNotifications();
            updateUserLocationTime();
            
            // Show welcome message
            welcomeUsername.textContent = currentUser.username;
            
            // Set home tab as active by default
            homeTab.click();
            
            alert('Cadastro realizado com sucesso! Bem-vindo ao ReivBET');
        });

        logoutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            logout();
        });

        // Check if user is already logged in
        function checkLoggedInUser() {
            const userData = localStorage.getItem('reivbet_current_user');
            if (userData) {
                currentUser = JSON.parse(userData);
                loginScreen.classList.add('hidden');
                mainApp.classList.remove('hidden');
                updateUserData();
                startRandomNotifications();
                updateUserLocationTime(); // Fetch location on login
                
                // Show welcome message
                welcomeUsername.textContent = currentUser.username;
                
                // Set home tab as active by default
                homeTab.click();
            }
            // --- INICIALIZA A ROLETA VISUAL ---
            createRouletteWheel();
        }

        // Update user data in the UI
        function updateUserData(isWin = null) {
            if (!currentUser) return;

            const formattedBalance = `R$ ${currentUser.balance.toFixed(2)}`;
            const balanceElements = [userBalance, welcomeBalance, document.getElementById('withdraw-balance-info')];

            balanceElements.forEach(el => {
                if(el) {
                    el.textContent = formattedBalance;
                    // Reset classes
                    el.classList.remove('balance-updated-win', 'balance-updated-loss', 'text-green-500');
                    
                    if (isWin === true) {
                        el.classList.add('balance-updated-win');
                        setTimeout(() => el.classList.remove('balance-updated-win'), 500);
                    } else if (isWin === false) {
                        el.classList.add('balance-updated-loss');
                         setTimeout(() => el.classList.remove('balance-updated-loss'), 500);
                    }
                    // Return to default green after animation
                    setTimeout(() => el.classList.add('text-green-500'), 500);
                }
            });
        }

        // Update user balance (call this whenever balance changes)
        function updateUserBalance(newBalance, isWin = null) {
            if (!currentUser) return;
            
            currentUser.balance = newBalance;
            localStorage.setItem('reivbet_current_user', JSON.stringify(currentUser));
            usersDB.updateUser(currentUser.username, { balance: newBalance });
            updateUserData(isWin);
        }

        // Logout function
        function logout() {
            currentUser = null;
            localStorage.removeItem('reivbet_current_user');
            mainApp.classList.add('hidden');
            loginScreen.classList.remove('hidden');
            
            // Reset forms
            loginForm.reset();
            registerForm.reset();
            registerForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        }

        // Sample win messages
        const winMessages = [
            "Usu√°rio 78*****654 ganhou R$50.000  üî•",
            "Usu√°rio 82*****121 faturou R$12.700 üî•",
            "Usu√°rio 23*****891 acertou R$8.320  üî•",
            "Usu√°rio 45*****112 retirou R$25.150  üî•",
            "Usu√°rio 67*****334 multiplicou R$3.200 em 5x  üî•",
            "Usu√°rio 91*****556 ganhou R$15.750  üî•",
            "Usu√°rio 12*****778 faturou R$7.890  üî•"
        ];

        function startRandomNotifications() {
            // Show first notification after 5 seconds
            setTimeout(() => {
                showRandomWinNotification();
                
                // Then show a new one every 10-20 seconds
                setInterval(showRandomWinNotification, Math.random() * 10000 + 10000);
            }, 5000);
        }

        function showRandomWinNotification() {
            const randomMessage = winMessages[Math.floor(Math.random() * winMessages.length)];
            showNotification(randomMessage, 'yellow');
        }

        function showNotification(message, color = 'red') {
            const notification = document.createElement('div');
            notification.className = `floating-notification bg-gray-900 border-l-4 border-${color}-500 px-4 py-2 rounded shadow-lg text-sm flex items-center`;
            notification.innerHTML = `
                <span class="mr-2">${message}</span>
            `;
            
            const notificationsContainer = document.getElementById('notifications-container');
            notificationsContainer.appendChild(notification);
            
            // Remove after 5 seconds
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transition = 'opacity 1s';
                setTimeout(() => notification.remove(), 1000);
            }, 5000);
        }

        // --- IN√çCIO: L√ìGICA DO JOGO REIV TIGER‚Ñ¢ ---

        const reivTigerBox = document.getElementById('reiv-tiger-box');
        const reivTigerValueDisplay = document.getElementById('reiv-tiger-value');
        const reivTigerStatusDisplay = document.getElementById('reiv-tiger-status');
        const spinTigerBtn = document.getElementById('reiv-tiger-spin');
        const autoSpinTigerBtn = document.getElementById('reiv-tiger-auto-spin');
        const stopAutoSpinTigerBtn = document.getElementById('reiv-tiger-stop');

        let isSpinningTiger = false;
        let autoSpinInterval = null;
        let autoSpinCount = 0;

        function spinReivTiger() {
            if (isSpinningTiger) return;
            
            const spinCost = 100;
            if (currentUser.balance < spinCost) {
                showNotification(`Saldo insuficiente. Voc√™ precisa de R$${spinCost.toFixed(2)} para girar.`, 'red');
                stopAutoSpinReivTiger(); // Para o auto-giro se o saldo acabar
                return;
            }

            isSpinningTiger = true;
            spinTigerBtn.disabled = true;
            reivTigerStatusDisplay.textContent = 'Sorteando...';
            reivTigerValueDisplay.textContent = '...';
            reivTigerBox.classList.remove('border-green-500', 'border-red-500');
            reivTigerBox.classList.add('border-gray-800');

            setTimeout(() => {
                const randomValue = Math.floor(Math.random() * (500 - 10 + 1)) + 10;
                reivTigerValueDisplay.textContent = `R$ ${randomValue.toFixed(2)}`;

                if (randomValue >= 250) {
                    // GANHOU
                    const newBalance = currentUser.balance + randomValue;
                    updateUserBalance(newBalance, true); // true para 'win'
                    reivTigerStatusDisplay.innerHTML = `<span class="text-green-400">VOC√ä GANHOU R$ ${randomValue.toFixed(2)}!</span>`;
                    reivTigerBox.classList.add('border-green-500');
                    showNotification(`UAU! Voc√™ ganhou R$${randomValue.toFixed(2)} no REIV Tiger‚Ñ¢!`, 'green');
                } else {
                    // PERDEU
                    const newBalance = currentUser.balance - spinCost;
                    updateUserBalance(newBalance, false); // false para 'loss'
                    reivTigerStatusDisplay.innerHTML = `<span class="text-red-400">PERDEU R$ ${spinCost.toFixed(2)}</span>`;
                    reivTigerBox.classList.add('border-red-500');
                }
                
                isSpinningTiger = false;
                spinTigerBtn.disabled = false;

                if (autoSpinInterval) {
                    autoSpinCount--;
                    if (autoSpinCount <= 0) {
                        stopAutoSpinReivTiger();
                    }
                }
            }, 1000); // Anima√ß√£o de 1 segundo
        }

        function startAutoSpinReivTiger() {
            if (autoSpinInterval) return;

            autoSpinTigerBtn.classList.add('hidden');
            stopAutoSpinTigerBtn.classList.remove('hidden');
            
            autoSpinCount = 10;
            spinReivTiger(); // Giro imediato
            
            autoSpinInterval = setInterval(() => {
                spinReivTiger();
            }, 1500);
        }

        function stopAutoSpinReivTiger() {
            clearInterval(autoSpinInterval);
            autoSpinInterval = null;
            autoSpinCount = 0;

            autoSpinTigerBtn.classList.remove('hidden');
            stopAutoSpinTigerBtn.classList.add('hidden');
        }

        spinTigerBtn.addEventListener('click', spinReivTiger);
        autoSpinTigerBtn.addEventListener('click', startAutoSpinReivTiger);
        stopAutoSpinTigerBtn.addEventListener('click', stopAutoSpinReivTiger);
        
        // --- FIM: L√ìGICA DO JOGO REIV TIGER‚Ñ¢ ---

        // Aviator game configuration
        const aviatorConfig = {
            minBet: 1,
            maxMultiplier: 10,
            baseCrashPoint: 1.2,
            volatility: 3
        };

        let aviatorGame = {
            active: false,
            betAmount: 0,
            multiplier: 1.00,
            animationFrame: null,
            crashPoint: 0,
            startTime: 0,
            duration: 0
        };

        // Aviator Game Elements
        const avStartGameBtn = document.getElementById('av-start-game');
        const avCashOutBtn = document.getElementById('av-cash-out');
        const avBetAmountInput = document.getElementById('av-bet-amount');
        const avMultiplierDisplay = document.getElementById('av-multiplier');
        const avPotentialWinDisplay = document.getElementById('av-potential-win');
        const avStatusDisplay = document.getElementById('av-status');
        const avPlane = document.getElementById('av-plane');
        const avTrail = document.getElementById('av-trail');

        // Aviator Game Event Listeners
        avStartGameBtn.addEventListener('click', startAviator);
        avCashOutBtn.addEventListener('click', cashOutAviator);

        // Aviator Game Functions
        function startAviator() {
            const bet = parseFloat(avBetAmountInput.value);
            
            // Valida√ß√µes
            if (isNaN(bet) || bet < aviatorConfig.minBet) {
                showNotification(`O valor m√≠nimo para aposta √© R$${aviatorConfig.minBet.toFixed(2)}`, 'red');
                return;
            }
            
            if (bet > currentUser.balance) {
                showNotification('Saldo insuficiente para esta aposta', 'red');
                return;
            }
            
            // Deduz o valor da aposta
            updateUserBalance(currentUser.balance - bet, false);
            
            // Configura o jogo
            aviatorGame = {
                active: true,
                betAmount: bet,
                multiplier: 1.00,
                crashPoint: calculateCrashPoint(),
                animationFrame: null,
                startTime: Date.now(),
                duration: 0
            };
            
            // Atualiza UI
            avStatusDisplay.textContent = 'O avi√£o est√° decolando...';
            avStartGameBtn.classList.add('hidden');
            avCashOutBtn.classList.remove('hidden');
            avMultiplierDisplay.textContent = '1.00x';
            avPotentialWinDisplay.textContent = `R$ ${bet.toFixed(2)}`;
            
            // Limpa anima√ß√£o anterior
            avPlane.style.transform = 'translateX(0) translateY(0) rotate(0deg)';
            avTrail.style.width = '0';
            avTrail.style.backgroundColor = 'red';
            
            // Inicia o loop do jogo
            aviatorGame.startTime = Date.now();
            aviatorGame.animationFrame = requestAnimationFrame(updateAviatorGame);
        }

        function calculateCrashPoint() {
            // F√≥rmula para gerar um ponto de crash aleat√≥rio (mais justo)
            const e = Math.pow(2, aviatorConfig.volatility);
            const r = Math.random() * (aviatorConfig.volatility * 0.5) + 0.5;
            return (Math.pow(e, r) - 1) / (e - 1) * (aviatorConfig.maxMultiplier - aviatorConfig.baseCrashPoint) + aviatorConfig.baseCrashPoint;
        }

        function updateAviatorGame() {
            if (!aviatorGame.active) return;
            
            const currentTime = Date.now();
            aviatorGame.duration = (currentTime - aviatorGame.startTime) / 1000; // em segundos
            
            // Calcula o multiplicador com curva de crescimento
            aviatorGame.multiplier = 1 + (aviatorGame.duration * 0.5) + Math.pow(aviatorGame.duration, 2) * 0.1;
            
            // Atualiza display
            avMultiplierDisplay.textContent = `${Math.min(aviatorGame.multiplier, 999).toFixed(2)}x`;
            avPotentialWinDisplay.textContent = `R$ ${(aviatorGame.betAmount * aviatorGame.multiplier).toFixed(2)}`;
            
            // Anima√ß√£o do avi√£o (suavizada)
            const progress = Math.min(aviatorGame.multiplier / aviatorGame.crashPoint, 1);
            const xPos = progress * 200;
            const yPos = -Math.sin(progress * Math.PI) * 50;
            
            avPlane.style.transform = `translateX(${xPos}px) translateY(${yPos}px) rotate(${progress * 10}deg)`;
            avTrail.style.width = `${xPos}px`;
            avTrail.style.height = '2px';
            avTrail.style.transform = `translateY(${yPos + 25}px)`;
            
            // Verifica se o avi√£o caiu
            if (aviatorGame.multiplier >= aviatorGame.crashPoint) {
                crashAviator();
                return;
            }
            
            // Continua a anima√ß√£o
            aviatorGame.animationFrame = requestAnimationFrame(updateAviatorGame);
        }

        function crashAviator() {
            if (!aviatorGame.active) return;
            
            cancelAnimationFrame(aviatorGame.animationFrame);
            aviatorGame.active = false;
            
            // Efeito de crash
            avPlane.style.transform += ' rotate(180deg)';
            avTrail.style.backgroundColor = 'red';
            
            avStatusDisplay.textContent = `O avi√£o caiu em ${aviatorGame.crashPoint.toFixed(2)}x!`;
            showNotification(`O avi√£o caiu em ${aviatorGame.crashPoint.toFixed(2)}x!`, 'red');
            
            // Reseta ap√≥s 3 segundos
            setTimeout(() => {
                avPlane.style.transform = 'translateX(0) translateY(0) rotate(0deg)';
                avTrail.style.width = '0';
                avTrail.style.backgroundColor = 'red';
                avStartGameBtn.classList.remove('hidden');
                avCashOutBtn.classList.add('hidden');
                avStatusDisplay.textContent = 'Pronto para decolar!';
            }, 3000);
        }

        function cashOutAviator() {
            if (!aviatorGame.active) return;
            
            cancelAnimationFrame(aviatorGame.animationFrame);
            const winAmount = aviatorGame.betAmount * aviatorGame.multiplier;
            updateUserBalance(currentUser.balance + winAmount, true);
            
            aviatorGame.active = false;
            avStatusDisplay.textContent = `Voc√™ retirou em ${aviatorGame.multiplier.toFixed(2)}x! Ganhou R$${winAmount.toFixed(2)}`;
            showNotification(`Voc√™ ganhou R$${winAmount.toFixed(2)} no Aviador!`, 'green');
            
            // Efeito visual de vit√≥ria
            avPlane.classList.add('animate-pulse');
            avTrail.style.backgroundColor = 'green';
            
            // Reseta ap√≥s 3 segundos
            setTimeout(() => {
                avPlane.style.transform = 'translateX(0) translateY(0) rotate(0deg)';
                avPlane.classList.remove('animate-pulse');
                avTrail.style.width = '0';
                avTrail.style.backgroundColor = 'red';
                avStartGameBtn.classList.remove('hidden');
                avCashOutBtn.classList.add('hidden');
                avStatusDisplay.textContent = 'Pronto para decolar!';
            }, 3000);
        }

        // Dice Game Functions
        function rollDice() {
            const bet = parseFloat(document.getElementById('dice-bet-amount').value);
            const chosenNumber = parseInt(document.getElementById('dice-number').value);
            
            if (isNaN(bet) || bet < 1) {
                alert('O valor m√≠nimo para aposta √© R$1,00');
                return;
            }
            
            if (bet > currentUser.balance) {
                alert('Saldo insuficiente para esta aposta');
                return;
            }
            
            updateUserBalance(currentUser.balance - bet, false);
            
            document.getElementById('dice-display').innerHTML = '<i class="fas fa-dice-d6 text-gray-600 animate-spin"></i>';
            document.getElementById('dice-status').textContent = 'Girando...';
            
            setTimeout(() => {
                const result = Math.floor(Math.random() * 6) + 1;
                document.getElementById('dice-display').innerHTML = `<i class="fas fa-dice-${['one', 'two', 'three', 'four', 'five', 'six'][result - 1]} text-red-500"></i>`;
                
                if (result === chosenNumber) {
                    const winAmount = bet * 5;
                    updateUserBalance(currentUser.balance + winAmount, true);
                    document.getElementById('dice-result').textContent = `Voc√™ acertou! Ganhou R$${winAmount.toFixed(2)}`;
                    document.getElementById('dice-result').className = 'text-xl font-bold text-green-500';
                    showNotification(`Voc√™ ganhou R$${winAmount.toFixed(2)} nos Dados!`, 'green');
                } else {
                    document.getElementById('dice-result').textContent = `Voc√™ errou! Perdeu R$${bet.toFixed(2)}`;
                    document.getElementById('dice-result').className = 'text-xl font-bold text-red-500';
                }
                
                document.getElementById('dice-status').textContent = `O dado caiu no n√∫mero ${result}`;
            }, 1500);
        }

        // Slot Machine Game
        const slotSymbols = ["üçí", "üçã", "üçä", "üçá", "üîî", "7Ô∏è‚É£", "üí∞"];
        const slotPaytable = {
            "üçíüçíüçí": 2,
            "üçãüçãüçã": 3,
            "üçäüçäüçä": 3,
            "üçáüçáüçá": 4,
            "üîîüîîüîî": 5,
            "7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£": 10,
            "üí∞üí∞üí∞": 15,
            "7Ô∏è‚É£7Ô∏è‚É£üí∞": 5,
            "7Ô∏è‚É£üí∞üí∞": 3,
            "üí∞üí∞7Ô∏è‚É£": 3,
            "üí∞7Ô∏è‚É£7Ô∏è‚É£": 5
        };

        let slotGame = {
            spinning: false,
            betAmount: 0,
            autoSpins: 0,
            autoSpinInterval: null
        };

        document.getElementById('spin-slot').addEventListener('click', spinSlot);
        document.getElementById('auto-spin-slot').addEventListener('click', startAutoSpin);
        document.getElementById('stop-auto-spin').addEventListener('click', stopAutoSpin);

        function spinSlot() {
            const bet = parseFloat(document.getElementById('slot-bet-amount').value);
            
            if (isNaN(bet) || bet < 1) {
                showNotification('O valor m√≠nimo para aposta √© R$1,00', 'red');
                return;
            }
            
            if (bet > currentUser.balance) {
                showNotification('Saldo insuficiente para esta aposta', 'red');
                return;
            }
            
            if (slotGame.spinning) return;
            
            slotGame.spinning = true;
            slotGame.betAmount = bet;
            updateUserBalance(currentUser.balance - bet, false);
            
            document.getElementById('slot-current-bet').textContent = `R$ ${bet.toFixed(2)}`;
            document.getElementById('slot-win-amount').textContent = 'R$ 0,00';
            document.getElementById('slot-last-result').textContent = '-';
            document.getElementById('slot-status').textContent = 'Girando...';
            
            const reels = document.querySelectorAll('.slot-reel');
            const spinDuration = 2000; // 2 seconds
            
            // Spin animation
            reels.forEach((reel, index) => {
                const startTime = Date.now();
                const spin = () => {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / spinDuration, 1);
                    
                    // Faster spinning at the beginning, slowing down
                    const speed = 1 - Math.pow(progress, 2);
                    const symbolIndex = Math.floor(Math.random() * slotSymbols.length);
                    reel.textContent = slotSymbols[symbolIndex];
                    
                    if (progress < 1) {
                        requestAnimationFrame(spin);
                    } else {
                        // Final position for this reel
                        const finalSymbol = slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
                        reel.textContent = finalSymbol;
                        
                        // Check if all reels have stopped
                        if (index === reels.length - 1) {
                            finishSlotSpin();
                        }
                    }
                };
                
                spin();
            });
        }

        function startAutoSpin() {
            const bet = parseFloat(document.getElementById('slot-bet-amount').value);
            const spins = parseInt(document.getElementById('auto-spin-count').value);
            
            if (isNaN(bet) || bet < 1) {
                showNotification('O valor m√≠nimo para aposta √© R$1,00', 'red');
                return;
            }
            
            if (bet > currentUser.balance) {
                showNotification('Saldo insuficiente para esta aposta', 'red');
                return;
            }
            
            if (isNaN(spins) || spins < 1 || spins > 100) {
                showNotification('Escolha entre 1 e 100 giros autom√°ticos', 'red');
                return;
            }
            
            slotGame.autoSpins = spins;
            document.getElementById('slot-spins-left').textContent = spins;
            document.getElementById('auto-spin-slot').classList.add('hidden');
            document.getElementById('stop-auto-spin').classList.remove('hidden');
            
            // Start auto spin
            slotGame.autoSpinInterval = setInterval(() => {
                if (slotGame.autoSpins > 0 && !slotGame.spinning) {
                    spinSlot();
                    slotGame.autoSpins--;
                    document.getElementById('slot-spins-left').textContent = slotGame.autoSpins;
                } else if (slotGame.autoSpins <= 0) {
                    stopAutoSpin();
                }
            }, 2500); // 2.5 seconds between spins
        }

        function stopAutoSpin() {
            clearInterval(slotGame.autoSpinInterval);
            slotGame.autoSpins = 0;
            document.getElementById('auto-spin-slot').classList.remove('hidden');
            document.getElementById('stop-auto-spin').classList.add('hidden');
            document.getElementById('slot-spins-left').textContent = '0';
        }

        function finishSlotSpin() {
            slotGame.spinning = false;
            
            // Get the result
            const reels = document.querySelectorAll('.slot-reel');
            const result = Array.from(reels).map(reel => reel.textContent).join('');
            
            // Check for winning combinations
            let winMultiplier = 0;
            for (const [pattern, multiplier] of Object.entries(slotPaytable)) {
                if (result.includes(pattern)) {
                    winMultiplier = multiplier;
                    break;
                }
            }
            
            // Calculate win
            const winAmount = slotGame.betAmount * winMultiplier;
            
            if (winMultiplier > 0) {
                updateUserBalance(currentUser.balance + winAmount, true);
                document.getElementById('slot-win-amount').textContent = `R$ ${winAmount.toFixed(2)}`;
                document.getElementById('slot-last-result').textContent = 'GANHOU!';
                document.getElementById('slot-status').textContent = 'Vit√≥ria!';
                showNotification(`Voc√™ ganhou R$${winAmount.toFixed(2)} no Ca√ßa-N√≠queis!`, 'green');
            } else {
                document.getElementById('slot-win-amount').textContent = 'R$ 0,00';
                document.getElementById('slot-last-result').textContent = 'PERDEU';
                document.getElementById('slot-status').textContent = 'Sem pr√™mio';
            }
        }
        
        // --- IN√çCIO: L√ìGICA ATUALIZADA DA ROLETA ---

        // Configura√ß√£o da roleta (padr√£o europeu)
        const rouletteNumbers = [
            { number: 0, color: 'green' }, { number: 32, color: 'red' }, { number: 15, color: 'black' }, { number: 19, color: 'red' }, { number: 4, color: 'black' },
            { number: 21, color: 'red' }, { number: 2, color: 'black' }, { number: 25, color: 'red' }, { number: 17, color: 'black' }, { number: 34, color: 'red' },
            { number: 6, color: 'black' }, { number: 27, color: 'red' }, { number: 13, color: 'black' }, { number: 36, color: 'red' }, { number: 11, color: 'black' },
            { number: 30, color: 'red' }, { number: 8, color: 'black' }, { number: 23, color: 'red' }, { number: 10, color: 'black' }, { number: 5, color: 'red' },
            { number: 24, color: 'black' }, { number: 16, color: 'red' }, { number: 33, color: 'black' }, { number: 1, color: 'red' }, { number: 20, color: 'black' },
            { number: 14, color: 'red' }, { number: 31, color: 'black' }, { number: 9, color: 'red' }, { number: 22, color: 'black' }, { number: 18, color: 'red' },
            { number: 29, color: 'black' }, { number: 7, color: 'red' }, { number: 28, color: 'black' }, { number: 12, color: 'red' }, { number: 35, color: 'black' },
            { number: 3, color: 'red' }, { number: 26, color: 'black' }
        ];

        let rouletteGame = {
            spinning: false,
            betAmount: 0,
            betType: null,
            currentRotation: 0, // Guarda a rota√ß√£o atual para continuar girando
        };

        const wheelElement = document.getElementById('roulette-wheel-graphic');
        
        // Fun√ß√£o para criar a roleta visualmente
        function createRouletteWheel() {
            const segmentAngle = 360 / rouletteNumbers.length;
            const colorMap = { 'red': '#ef4444', 'black': '#1f2937', 'green': '#22c55e' };

            wheelElement.innerHTML = ''; // Limpa a roleta antes de criar

            rouletteNumbers.forEach((item, index) => {
                const slice = document.createElement('div');
                slice.className = 'wheel-slice';
                slice.innerHTML = `<span>${item.number}</span>`;
                
                const rotation = segmentAngle * index;
                const backgroundColor = colorMap[item.color];
                
                slice.style.transform = `rotate(${rotation}deg) skewY(${90-segmentAngle}deg)`;
                slice.style.background = backgroundColor;
                
                wheelElement.appendChild(slice);
            });
        }


        document.querySelectorAll('.roulette-bet-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (rouletteGame.spinning) return;
                
                const bet = parseFloat(document.getElementById('roulette-bet-amount').value);
                const betType = this.dataset.betType;
                
                if (isNaN(bet) || bet < 1) {
                    showNotification('O valor m√≠nimo para aposta √© R$1,00', 'red');
                    return;
                }
                
                if (bet > currentUser.balance) {
                    showNotification('Saldo insuficiente para esta aposta', 'red');
                    return;
                }
                
                rouletteGame.spinning = true;
                rouletteGame.betAmount = bet;
                rouletteGame.betType = betType;
                updateUserBalance(currentUser.balance - bet, false);
                
                document.getElementById('roulette-current-bet').textContent = `R$ ${bet.toFixed(2)}`;
                document.getElementById('roulette-bet-type').textContent = this.textContent.trim();
                document.getElementById('roulette-result').textContent = '-';
                document.getElementById('roulette-win-amount').textContent = 'R$ 0,00';
                document.getElementById('roulette-status').textContent = 'Girando roleta...';

                // Desabilitar bot√µes durante o giro
                document.querySelectorAll('.roulette-bet-btn').forEach(b => b.disabled = true);
                
                spinRoulette();
            });
        });

        function spinRoulette() {
            // 1. Determina o resultado ANTES de girar
            const winningIndex = Math.floor(Math.random() * rouletteNumbers.length);
            const winningResult = rouletteNumbers[winningIndex];

            // 2. Calcula o √¢ngulo final da roleta
            const segmentAngle = 360 / rouletteNumbers.length;
            // O ponteiro est√° no topo (0 graus), queremos que o meio do segmento vencedor pare ali.
            // O √¢ngulo precisa ser negativo para girar no sentido hor√°rio.
            const targetAngle = -(winningIndex * segmentAngle + segmentAngle / 2);
            
            // Adiciona giros extras para a anima√ß√£o parecer mais real.
            // Usa a rota√ß√£o atual para que os giros sejam cont√≠nuos.
            const extraRotations = 360 * 5; // 5 giros completos
            const finalRotation = rouletteGame.currentRotation - (rouletteGame.currentRotation % 360) + extraRotations - targetAngle;

            // 3. Aplica a rota√ß√£o com CSS
            wheelElement.style.transform = `rotate(${finalRotation}deg)`;
            rouletteGame.currentRotation = finalRotation; // Salva a posi√ß√£o final para o pr√≥ximo giro

            // 4. Depois que a anima√ß√£o terminar, finaliza o jogo
            setTimeout(() => {
                finishRouletteSpin(winningResult);
            }, 5000); // Dura√ß√£o da anima√ß√£o (5s)
        }
        
        function finishRouletteSpin(result) {
            rouletteGame.spinning = false;
            
            const resultText = `${result.number} ${result.color === 'red' ? 'Vermelho' : result.color === 'black' ? 'Preto' : 'Verde'}`;
            document.getElementById('roulette-result').textContent = resultText;
            
            let hasWon = (rouletteGame.betType === result.color);
            let winMultiplier = 0;
            
            if (hasWon) {
                winMultiplier = (result.color === 'green') ? 14 : 2;
            }
            
            const winAmount = rouletteGame.betAmount * winMultiplier;
            
            if (hasWon) {
                updateUserBalance(currentUser.balance + winAmount, true);
                document.getElementById('roulette-win-amount').textContent = `R$ ${winAmount.toFixed(2)}`;
                document.getElementById('roulette-status').textContent = 'Voc√™ ganhou!';
                showNotification(`Voc√™ ganhou R$${winAmount.toFixed(2)} na Roleta!`, 'green');
            } else {
                document.getElementById('roulette-win-amount').textContent = 'R$ 0,00';
                document.getElementById('roulette-status').textContent = 'Voc√™ perdeu';
            }

            // Habilitar bot√µes novamente
            document.querySelectorAll('.roulette-bet-btn').forEach(b => b.disabled = false);
        }

        // --- FIM: L√ìGICA ATUALIZADA DA ROLETA ---


        // Blackjack Game
        const cardValues = {
            'A': 11, '2': 2, '3': 3, '4': 4, '5': 5, '6': 6, '7': 7, '8': 8, '9': 9,
            '10': 10, 'J': 10, 'Q': 10, 'K': 10
        };

        let blackjackGame = {
            active: false,
            betAmount: 0,
            deck: [],
            dealerHand: [],
            playerHand: [],
            dealerScore: 0,
            playerScore: 0
        };

        document.getElementById('blackjack-start').addEventListener('click', startBlackjack);
        document.getElementById('blackjack-hit').addEventListener('click', hitBlackjack);
        document.getElementById('blackjack-stand').addEventListener('click', standBlackjack);

        function startBlackjack() {
            const bet = parseFloat(document.getElementById('blackjack-bet-amount').value);
            
            if (isNaN(bet) || bet < 1) {
                showNotification('O valor m√≠nimo para aposta √© R$1,00', 'red');
                return;
            }
            
            if (bet > currentUser.balance) {
                showNotification('Saldo insuficiente para esta aposta', 'red');
                return;
            }
            
            blackjackGame = {
                active: true,
                betAmount: bet,
                deck: createDeck(),
                dealerHand: [],
                playerHand: [],
                dealerScore: 0,
                playerScore: 0
            };
            
            updateUserBalance(currentUser.balance - bet, false);
            
            // Deal initial cards
            blackjackGame.playerHand.push(drawCard());
            blackjackGame.dealerHand.push(drawCard());
            blackjackGame.playerHand.push(drawCard());
            blackjackGame.dealerHand.push(drawCard());
            
            // Calculate scores
            blackjackGame.playerScore = calculateScore(blackjackGame.playerHand);
            blackjackGame.dealerScore = calculateScore([blackjackGame.dealerHand[0]]); // Only show one dealer card
            
            // Update UI
            document.getElementById('blackjack-current-bet').textContent = `R$ ${bet.toFixed(2)}`;
            document.getElementById('blackjack-dealer-score').textContent = '?';
            document.getElementById('blackjack-player-score').textContent = blackjackGame.playerScore;
            document.getElementById('blackjack-result').textContent = '-';
            document.getElementById('blackjack-status').textContent = 'Sua vez';
            
            // Show dealer's face-down card and one face-up
            const dealerCardsContainer = document.getElementById('dealer-cards-container');
            dealerCardsContainer.innerHTML = '';
            
            // First card face down
            const faceDownCard = document.createElement('div');
            faceDownCard.className = 'card bg-gray-700 text-white rounded-md flex items-center justify-center font-bold text-xl';
            faceDownCard.textContent = '?';
            dealerCardsContainer.appendChild(faceDownCard);
            
            // Second card face up
            const dealerCard = document.createElement('div');
            dealerCard.className = 'card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl';
            dealerCard.textContent = blackjackGame.dealerHand[1].value;
            dealerCardsContainer.appendChild(dealerCard);
            
            // Show player's cards
            const playerCardsContainer = document.getElementById('player-cards-container');
            playerCardsContainer.innerHTML = '';
            
            blackjackGame.playerHand.forEach(card => {
                const playerCard = document.createElement('div');
                playerCard.className = 'card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl';
                playerCard.textContent = card.value;
                playerCardsContainer.appendChild(playerCard);
            });
            
            // Show actions
            document.getElementById('blackjack-actions').classList.remove('hidden');
            
            // Check for blackjack
            if (blackjackGame.playerScore === 21) {
                setTimeout(() => {
                    standBlackjack();
                }, 1000);
            }
        }

        function createDeck() {
            const suits = ['H', 'D', 'C', 'S']; // Hearts, Diamonds, Clubs, Spades
            const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
            const deck = [];
            
            for (const suit of suits) {
                for (const value of values) {
                    deck.push({ suit, value });
                }
            }
            
            // Shuffle the deck
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
            
            return deck;
        }

        function drawCard() {
            return blackjackGame.deck.pop();
        }

        function calculateScore(hand) {
            let score = 0;
            let aces = 0;
            
            for (const card of hand) {
                score += cardValues[card.value];
                if (card.value === 'A') aces++;
            }
            
            // Adjust for aces if score is over 21
            while (score > 21 && aces > 0) {
                score -= 10;
                aces--;
            }
            
            return score;
        }

        function hitBlackjack() {
            if (!blackjackGame.active) return;
            
            // Deal a new card to player
            const newCard = drawCard();
            blackjackGame.playerHand.push(newCard);
            blackjackGame.playerScore = calculateScore(blackjackGame.playerHand);
            
            // Update UI
            document.getElementById('blackjack-player-score').textContent = blackjackGame.playerScore;
            
            const playerCardsContainer = document.getElementById('player-cards-container');
            const playerCard = document.createElement('div');
            playerCard.className = 'card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl';
            playerCard.textContent = newCard.value;
            playerCardsContainer.appendChild(playerCard);
            
            // Check for bust
            if (blackjackGame.playerScore > 21) {
                document.getElementById('blackjack-result').textContent = 'Estourou!';
                document.getElementById('blackjack-status').textContent = 'Voc√™ perdeu';
                document.getElementById('blackjack-actions').classList.add('hidden');
                blackjackGame.active = false;
            }
        }

        function standBlackjack() {
            if (!blackjackGame.active) return;
            
            blackjackGame.active = false;
            document.getElementById('blackjack-actions').classList.add('hidden');
            
            // Reveal dealer's cards
            blackjackGame.dealerScore = calculateScore(blackjackGame.dealerHand);
            document.getElementById('blackjack-dealer-score').textContent = blackjackGame.dealerScore;
            
            const dealerCardsContainer = document.getElementById('dealer-cards-container');
            dealerCardsContainer.innerHTML = '';
            
            blackjackGame.dealerHand.forEach(card => {
                const dealerCard = document.createElement('div');
                dealerCard.className = 'card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl';
                dealerCard.textContent = card.value;
                dealerCardsContainer.appendChild(dealerCard);
            });
            
            // Dealer draws until 17 or higher
            while (blackjackGame.dealerScore < 17) {
                const newCard = drawCard();
                blackjackGame.dealerHand.push(newCard);
                blackjackGame.dealerScore = calculateScore(blackjackGame.dealerHand);
                
                const dealerCard = document.createElement('div');
                dealerCard.className = 'card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl';
                dealerCard.textContent = newCard.value;
                dealerCardsContainer.appendChild(dealerCard);
            }
            
            document.getElementById('blackjack-dealer-score').textContent = blackjackGame.dealerScore;
            
            // Determine winner
            let result = '';
            let winAmount = 0;
            
            if (blackjackGame.playerScore > 21) {
                result = 'Voc√™ estourou';
            } else if (blackjackGame.dealerScore > 21) {
                result = 'Dealer estourou';
                winAmount = blackjackGame.betAmount * 2;
            } else if (blackjackGame.playerScore === blackjackGame.dealerScore) {
                result = 'Empate';
                winAmount = blackjackGame.betAmount;
            } else if (blackjackGame.playerScore > blackjackGame.dealerScore) {
                result = 'Voc√™ ganhou';
                winAmount = blackjackGame.betAmount * 2;
            } else {
                result = 'Dealer ganhou';
            }
            
            // Check for blackjack (natural 21 with 2 cards)
            if (blackjackGame.playerScore === 21 && blackjackGame.playerHand.length === 2) {
                result = 'Blackjack!';
                winAmount = blackjackGame.betAmount * 2.5;
            }
            
            document.getElementById('blackjack-result').textContent = result;
            document.getElementById('blackjack-status').textContent = 'Fim do jogo';
            
            if (winAmount > 0) {
                updateUserBalance(currentUser.balance + winAmount, true);
                document.getElementById('blackjack-result').className = 'text-green-500';
                showNotification(`Voc√™ ganhou R$${winAmount.toFixed(2)} no Blackjack!`, 'green');
            } else {
                document.getElementById('blackjack-result').className = 'text-red-500';
            }
        }

        // Video Poker Game
        const pokerHands = {
            'ROYAL_FLUSH': 250, 'STRAIGHT_FLUSH': 50, 'FOUR_OF_A_KIND': 25, 'FULL_HOUSE': 9, 'FLUSH': 6, 'STRAIGHT': 4, 'THREE_OF_A_KIND': 3, 'TWO_PAIR': 2, 'JACKS_OR_BETTER': 1
        };

        let pokerGame = {
            active: false, betAmount: 0, deck: [], hand: [], heldCards: []
        };

        document.getElementById('poker-deal').addEventListener('click', dealPoker);
        document.getElementById('poker-draw').addEventListener('click', drawPoker);

        function dealPoker() {
            const bet = parseFloat(document.getElementById('poker-bet-amount').value);
            
            if (isNaN(bet) || bet < 1) {
                showNotification('O valor m√≠nimo para aposta √© R$1,00', 'red');
                return;
            }
            
            if (bet > currentUser.balance) {
                showNotification('Saldo insuficiente para esta aposta', 'red');
                return;
            }
            
            pokerGame = {
                active: true, betAmount: bet, deck: createPokerDeck(), hand: [], heldCards: []
            };
            
            updateUserBalance(currentUser.balance - bet, false);
            
            for (let i = 0; i < 5; i++) {
                pokerGame.hand.push(drawPokerCard());
            }
            
            document.getElementById('poker-current-bet').textContent = `R$ ${bet.toFixed(2)}`;
            document.getElementById('poker-hand').textContent = '-';
            document.getElementById('poker-win-amount').textContent = 'R$ 0,00';
            document.getElementById('poker-status').textContent = 'Segure as cartas que deseja manter';
            
            const pokerHandEl = document.querySelector('.poker-hand');
            pokerHandEl.innerHTML = '';
            
            pokerGame.hand.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl cursor-pointer';
                cardElement.textContent = `${card.value}${card.suit}`;
                cardElement.dataset.index = index;
                
                cardElement.addEventListener('click', function() {
                    if (!pokerGame.active) return;
                    const cardIndex = parseInt(this.dataset.index);
                    if (pokerGame.heldCards.includes(cardIndex)) {
                        pokerGame.heldCards = pokerGame.heldCards.filter(i => i !== cardIndex);
                        this.classList.remove('border-2', 'border-red-500');
                    } else {
                        pokerGame.heldCards.push(cardIndex);
                        this.classList.add('border-2', 'border-red-500');
                    }
                });
                
                pokerHandEl.appendChild(cardElement);
            });
            
            document.getElementById('poker-deal').classList.add('hidden');
            document.getElementById('poker-draw').classList.remove('hidden');
        }

        function createPokerDeck() {
            const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
            const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
            const deck = [];
            for (const suit of suits) {
                for (const value of values) {
                    deck.push({ suit, value });
                }
            }
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
            return deck;
        }

        function drawPokerCard() {
            return pokerGame.deck.pop();
        }

        function drawPoker() {
            if (!pokerGame.active) return;
            
            pokerGame.active = false;
            
            const newHand = [];
            const pokerHandEl = document.querySelector('.poker-hand');
            
            for (let i = 0; i < 5; i++) {
                if (pokerGame.heldCards.includes(i)) {
                    newHand.push(pokerGame.hand[i]);
                } else {
                    newHand.push(drawPokerCard());
                }
            }
            pokerGame.hand = newHand;
            
            pokerHandEl.innerHTML = '';
            pokerGame.hand.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card bg-white text-black rounded-md flex items-center justify-center font-bold text-xl';
                cardElement.textContent = `${card.value}${card.suit}`;
                pokerHandEl.appendChild(cardElement);
            });
            
            const handRank = evaluatePokerHand(pokerGame.hand);
            const winMultiplier = pokerHands[handRank] || 0;
            const winAmount = pokerGame.betAmount * winMultiplier;
            
            document.getElementById('poker-hand').textContent = formatPokerHand(handRank);
            document.getElementById('poker-win-amount').textContent = `R$ ${winAmount.toFixed(2)}`;
            document.getElementById('poker-status').textContent = 'Fim do jogo';
            
            if (winMultiplier > 0) {
                updateUserBalance(currentUser.balance + winAmount, true);
                showNotification(`Voc√™ ganhou R$${winAmount.toFixed(2)} no Video Poker! (${formatPokerHand(handRank)})`, 'green');
            }
            
            document.getElementById('poker-deal').classList.remove('hidden');
            document.getElementById('poker-draw').classList.add('hidden');
        }

        function evaluatePokerHand(hand) {
            const values = hand.map(c => c.value);
            const suits = hand.map(c => c.suit);
            const valueOrder = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
            const valueCounts = values.reduce((acc, v) => ({ ...acc, [v]: (acc[v] || 0) + 1 }), {});
            const counts = Object.values(valueCounts).sort((a, b) => b - a);

            const isFlush = new Set(suits).size === 1;
            const sortedIndices = values.map(v => valueOrder.indexOf(v)).sort((a,b) => a-b);
            const isStraight = sortedIndices.every((v, i, arr) => i === 0 || v === arr[i-1] + 1) || JSON.stringify(sortedIndices) === JSON.stringify([0,1,2,3,12]); // A-5 straight

            if (isStraight && isFlush && JSON.stringify(sortedIndices) === JSON.stringify([8,9,10,11,12])) return 'ROYAL_FLUSH';
            if (isStraight && isFlush) return 'STRAIGHT_FLUSH';
            if (counts[0] === 4) return 'FOUR_OF_A_KIND';
            if (counts[0] === 3 && counts[1] === 2) return 'FULL_HOUSE';
            if (isFlush) return 'FLUSH';
            if (isStraight) return 'STRAIGHT';
            if (counts[0] === 3) return 'THREE_OF_A_KIND';
            if (counts[0] === 2 && counts[1] === 2) return 'TWO_PAIR';
            if (counts[0] === 2 && ['J', 'Q', 'K', 'A'].includes(Object.keys(valueCounts).find(key => valueCounts[key] === 2))) return 'JACKS_OR_BETTER';

            return 'NONE';
        }

        function formatPokerHand(handRank) {
            const names = {
                'ROYAL_FLUSH': 'Royal Flush', 'STRAIGHT_FLUSH': 'Straight Flush', 'FOUR_OF_A_KIND': 'Quadra', 'FULL_HOUSE': 'Full House', 'FLUSH': 'Flush', 'STRAIGHT': 'Sequ√™ncia', 'THREE_OF_A_KIND': 'Trinca', 'TWO_PAIR': 'Dois Pares', 'JACKS_OR_BETTER': 'Par de Valetes+', 'NONE': 'Sem combina√ß√£o'
            };
            return names[handRank] || handRank;
        }

        // Mines Game Functions
        let gameState = {
            active: false, betAmount: 0, minesCount: 0, safeCellsClicked: 0, multiplier: 1, minesPositions: [], revealedCells: []
        };
        const multiplierValues = { 1: 1.10, 2: 1.25, 3: 1.40, 4: 1.60, 5: 2.00, 6: 2.50, 7: 3.00, 8: 3.50, 9: 3.75, 10: 4.00 };

        document.getElementById('start-game').addEventListener('click', startGame);
        document.getElementById('cash-out').addEventListener('click', cashOut);

        function startGame() {
            const bet = parseFloat(document.getElementById('bet-amount').value);
            const mines = parseInt(document.getElementById('mines-count').value);
            if (isNaN(bet) || bet < 1 || bet > currentUser.balance) {
                alert(bet > currentUser.balance ? 'Saldo insuficiente' : 'Aposta m√≠nima de R$1,00');
                return;
            }
            
            updateUserBalance(currentUser.balance - bet, false);
            gameState = {
                active: true, betAmount: bet, minesCount: mines, safeCellsClicked: 0, multiplier: multiplierValues[mines], minesPositions: [], revealedCells: []
            };
            
            while (gameState.minesPositions.length < mines) {
                const randomPos = Math.floor(Math.random() * 25);
                if (!gameState.minesPositions.includes(randomPos)) gameState.minesPositions.push(randomPos);
            }
            
            document.getElementById('current-bet').textContent = `R$ ${bet.toFixed(2)}`;
            document.getElementById('current-mines').textContent = mines;
            document.getElementById('safe-clicks').textContent = '0';
            document.getElementById('current-multiplier').textContent = `${gameState.multiplier.toFixed(2)}x`;
            document.getElementById('potential-win').textContent = `R$ ${(bet * gameState.multiplier).toFixed(2)}`;
            document.getElementById('game-status').textContent = 'Jogo em andamento';
            document.getElementById('game-status').className = 'text-sm px-3 py-1 bg-yellow-600 rounded-full';
            document.getElementById('cash-out').classList.remove('hidden');
            renderGameBoard();
        }

        function renderGameBoard() {
            const gameBoard = document.getElementById('game-board');
            gameBoard.innerHTML = '';
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell bg-gray-800 h-16 rounded flex items-center justify-center cursor-pointer font-bold text-xl border border-gray-700 hover:bg-gray-700';
                cell.dataset.index = i;
                
                if (gameState.revealedCells.includes(i)) {
                    cell.innerHTML = gameState.minesPositions.includes(i) ? '<i class="fas fa-bomb text-red-500"></i>' : 'üíé';
                    cell.className = `cell h-16 rounded flex items-center justify-center font-bold text-xl border ${gameState.minesPositions.includes(i) ? 'bg-red-900 border-red-700' : 'bg-green-900 border-green-700'}`;
                } else if (gameState.active) {
                    cell.addEventListener('click', () => revealCell(i));
                }
                gameBoard.appendChild(cell);
            }
        }

        function revealCell(index) {
            if (!gameState.active || gameState.revealedCells.includes(index)) return;
            gameState.revealedCells.push(index);
            
            if (gameState.minesPositions.includes(index)) {
                gameState.active = false;
                document.getElementById('game-status').textContent = 'Voc√™ perdeu!';
                document.getElementById('game-status').className = 'text-sm px-3 py-1 bg-red-600 rounded-full';
                document.getElementById('cash-out').classList.add('hidden');
                gameState.minesPositions.forEach(pos => !gameState.revealedCells.includes(pos) && gameState.revealedCells.push(pos));
                renderGameBoard();
            } else {
                gameState.safeCellsClicked++;
                gameState.multiplier += 0.1 * gameState.minesCount;
                document.getElementById('safe-clicks').textContent = gameState.safeCellsClicked;
                document.getElementById('current-multiplier').textContent = `${gameState.multiplier.toFixed(2)}x`;
                document.getElementById('potential-win').textContent = `R$ ${(gameState.betAmount * gameState.multiplier).toFixed(2)}`;
                renderGameBoard();
                if (gameState.revealedCells.length + gameState.minesCount === 25) cashOut(true);
            }
        }

        function cashOut(allRevealed = false) {
            if (!gameState.active) return;
            const winAmount = gameState.betAmount * gameState.multiplier;
            updateUserBalance(currentUser.balance + winAmount, true);
            gameState.active = false;
            document.getElementById('game-status').textContent = allRevealed ? 'Todos revelados!' : 'Voc√™ retirou!';
            document.getElementById('game-status').className = 'text-sm px-3 py-1 bg-green-600 rounded-full';
            document.getElementById('cash-out').classList.add('hidden');
            for (let i = 0; i < 25; i++) !gameState.revealedCells.includes(i) && gameState.revealedCells.push(i);
            renderGameBoard();
            showNotification(`Voc√™ ganhou R$${winAmount.toFixed(2)}!`, 'green');
        }

        // Initialize
        checkLoggedInUser();

        // Close user menu when clicking outside
        document.addEventListener('click', (e) => {
            const userMenu = document.getElementById('user-menu');
            const userMenuBtn = document.getElementById('user-menu-btn');
            if (userMenuBtn && userMenu && !userMenu.contains(e.target) && !userMenuBtn.contains(e.target)) {
                userMenu.classList.add('hidden');
            }
        });

        // Toggle user menu
        document.getElementById('user-menu-btn').addEventListener('click', () => {
            document.getElementById('user-menu').classList.toggle('hidden');
        });

        // Deposit Modal
        document.getElementById('deposit-btn').addEventListener('click', () => {
            document.getElementById('deposit-modal').classList.remove('hidden');
        });
        document.getElementById('close-deposit-modal').addEventListener('click', () => {
            document.getElementById('deposit-modal').classList.add('hidden');
        });

        document.getElementById('payment-method').addEventListener('change', (e) => {
            document.getElementById('pix-info-section').classList.add('hidden');
            document.getElementById('boleto-info-section').classList.add('hidden');
            document.getElementById('cartao-info-section').classList.add('hidden');

            if(e.target.value === 'pix') {
                document.getElementById('pix-info-section').classList.remove('hidden');
            } else if (e.target.value === 'boleto') {
                document.getElementById('boleto-info-section').classList.remove('hidden');
            } else if (e.target.value === 'cartao') {
                document.getElementById('cartao-info-section').classList.remove('hidden');
            }
        });

        document.getElementById('copy-pix').addEventListener('click', () => {
            const pixKey = document.getElementById('pix-key').textContent;
            navigator.clipboard.writeText(pixKey);
            const copyBtn = document.getElementById('copy-pix');
            const originalIcon = copyBtn.innerHTML;
            copyBtn.innerHTML = '<i class="fas fa-check text-green-500"></i>';
            setTimeout(() => {
                copyBtn.innerHTML = originalIcon;
            }, 2000);
        });
        
        function handleDeposit() {
            const amountInput = document.getElementById('deposit-amount');
            const amount = parseFloat(amountInput.value);

            if (isNaN(amount) || amount < 10) {
                showNotification('O valor m√≠nimo de dep√≥sito √© R$10,00.', 'red');
                return;
            }
            updateUserBalance(currentUser.balance + amount, true);
            document.getElementById('deposit-modal').classList.add('hidden');
            amountInput.value = ''; // Limpa o campo
            showNotification(`Dep√≥sito de R$${amount.toFixed(2)} confirmado! O saldo j√° est√° na sua conta.`, 'green');
            
            showReceipt('Dep√≥sito', amount, 'Aprovado');
        }
        document.getElementById('confirm-deposit').addEventListener('click', handleDeposit);


        // Withdraw Modal
        document.getElementById('withdraw-btn').addEventListener('click', () => {
            document.getElementById('withdraw-modal').classList.remove('hidden');
            document.getElementById('withdraw-balance-info').textContent = `R$ ${currentUser.balance.toFixed(2)}`;
        });
        document.getElementById('close-withdraw-modal').addEventListener('click', () => {
            document.getElementById('withdraw-modal').classList.add('hidden');
        });
        
        function handleWithdraw() {
            const amountInput = document.getElementById('withdraw-amount');
            const amount = parseFloat(amountInput.value);
            const pixKeyInput = document.getElementById('withdraw-pix-key');
            const pixKey = pixKeyInput.value.trim();

            if (isNaN(amount) || amount < 50) {
                showNotification('O valor m√≠nimo para saque √© R$50,00.', 'red');
                return;
            }
            if (!pixKey) {
                showNotification('Por favor, insira uma chave PIX v√°lida.', 'red');
                return;
            }
            if (amount > currentUser.balance) {
                showNotification('Saldo insuficiente para realizar este saque.', 'red');
                return;
            }

            // Debit balance immediately
            updateUserBalance(currentUser.balance - amount, false);
            document.getElementById('withdraw-modal').classList.add('hidden');
            amountInput.value = '';
            pixKeyInput.value = '';
            showNotification(`Sua solicita√ß√£o de saque de R$${amount.toFixed(2)} est√° sendo processada...`, 'yellow');

            // Simulate processing delay and show receipt
            setTimeout(() => {
                const statuses = ['Aprovado', 'Rejeitado']; 
                const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];

                if (randomStatus === 'Rejeitado') { 
                    updateUserBalance(currentUser.balance + amount, null); // Devolve o dinheiro
                    showNotification(`Saque de R$${amount.toFixed(2)} REJEITADO. O valor foi estornado.`, 'red');
                } else if (randomStatus === 'Aprovado') {
                     showNotification(`Saque de R$${amount.toFixed(2)} APROVADO! O valor foi enviado.`, 'green');
                }
                showReceipt('Saque', amount, randomStatus);

            }, 2000); 
        }
        document.getElementById('confirm-withdraw').addEventListener('click', handleWithdraw);


        // Admin panel - accessible with Ctrl+Shift+A
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key === 'A') {
                e.preventDefault();
                document.getElementById('admin-withdraw-panel').classList.remove('hidden');
            }
        });
        document.getElementById('close-admin-panel').addEventListener('click', () => {
            document.getElementById('admin-withdraw-panel').classList.add('hidden');
        });

        // Dice Game Event Listener
        document.getElementById('dice-roll').addEventListener('click', rollDice);
    
        // Painel Admin para Adicionar Saldo (aparece com CTRL+SHIFT+A se for ogreiglzin7)
        document.addEventListener("keydown", function(e) {
            if (e.ctrlKey && e.shiftKey && e.code === "KeyA") {
                if (currentUser?.username === "ogreiglzin7") {
                    showAddBalancePanel();
                } else {
                    alert("Acesso restrito ao administrador.");
                }
            }
        });

        function showAddBalancePanel() {
            const overlay = document.createElement("div");
            overlay.className = "fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50";
            overlay.innerHTML = `
                <div class="bg-gray-900 p-6 rounded-lg border border-green-600 max-w-md w-full">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">Enviar Saldo (Painel Admin)</h3>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-white">&times;</button>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm mb-1">Escolher usu√°rio</label>
                            <input type="text" id="admin-target-user" placeholder="Digite o nick" class="w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded" />
                        </div>
                        <div>
                            <label class="block text-sm mb-1">Valor (R$)</label>
                            <input id="admin-add-amount" type="number" min="1" class="w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded" />
                        </div>
                        <button onclick="sendAdminBalance()" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
                            Adicionar Saldo
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(overlay);
        }

        function sendAdminBalance() {
            const user = document.getElementById('admin-target-user').value;
            const value = parseFloat(document.getElementById('admin-add-amount').value);
            if (!user || isNaN(value) || value <= 0) {
                alert("Usu√°rio ou valor inv√°lido.");
                return;
            }
            const target = usersDB.getUser(user);
            if (!target) {
                alert("Usu√°rio n√£o encontrado.");
                return;
            }
            const updatedBalance = target.balance + value;
            usersDB.updateUser(user, { balance: updatedBalance });
            alert(`R$${value.toFixed(2)} adicionado ao usu√°rio ${user}.`);
        }

        // --- IN√çCIO: L√ìGICA DA M√öSICA DE FUNDO ---
        const bgMusic = document.getElementById('bg-music');
        const toggleBtn = document.getElementById('toggle-music');

        toggleBtn.addEventListener('click', () => {
            if (bgMusic.paused) {
                bgMusic.play().catch(e => console.log("A reprodu√ß√£o autom√°tica da m√∫sica foi bloqueada pelo navegador."));
                toggleBtn.innerHTML = 'M√∫sica Ligada üîä';
            } else {
                bgMusic.pause();
                toggleBtn.innerHTML = 'M√∫sica Desligada üéµ';
            }
        });
        
        // Permite que a m√∫sica comece a tocar ap√≥s a primeira intera√ß√£o do usu√°rio, se estiver definida para 'Ligada'
        document.body.addEventListener('click', () => {
            if (!bgMusic.paused && toggleBtn.innerHTML.includes('Ligada')) {
                 bgMusic.play().catch(e => console.log(""));
            }
        }, { once: true });
        // --- FIM: L√ìGICA DA M√öSICA DE FUNDO ---

        // --- IN√çCIO: NOVAS FUNCIONALIDADES ---

        // 1. Sistema de Comprovantes
        const receiptModal = document.getElementById('receipt-modal');
        const closeReceiptModal = document.getElementById('close-receipt-modal');
        const closeReceiptBtn = document.getElementById('close-receipt-btn');
        const copyReceiptBtn = document.getElementById('copy-receipt');

        function showReceipt(type, amount, status) {
            const trxId = `#TRX${Math.floor(Math.random() * 900000) + 100000}`;
            const now = new Date();
            const dateTime = now.toLocaleString('pt-BR');

            document.getElementById('receipt-type').textContent = type;
            document.getElementById('receipt-amount').textContent = `R$ ${amount.toFixed(2)}`;
            const statusEl = document.getElementById('receipt-status');
            statusEl.textContent = status;
            
            statusEl.className = 'font-bold'; // Reset class
            if(status === 'Aprovado') statusEl.classList.add('text-green-500');
            else if(status === 'Rejeitado') statusEl.classList.add('text-red-500');
            else statusEl.classList.add('text-yellow-500');

            document.getElementById('receipt-datetime').textContent = dateTime;
            document.getElementById('receipt-id').textContent = trxId;

            // Adapta√ß√£o para mobile
            if(window.innerWidth < 640) {
                receiptModal.classList.add('fullscreen-mobile');
            } else {
                receiptModal.classList.remove('fullscreen-mobile');
            }

            receiptModal.classList.remove('hidden');
        }

        function closeReceipt() {
            receiptModal.classList.add('hidden');
        }

        closeReceiptModal.addEventListener('click', closeReceipt);
        closeReceiptBtn.addEventListener('click', closeReceipt);

        copyReceiptBtn.addEventListener('click', () => {
            const receiptDetails = document.getElementById('receipt-details').innerText;
            navigator.clipboard.writeText(receiptDetails.replace(/\s+/g, ' '));
            
            const originalText = copyReceiptBtn.innerHTML;
            copyReceiptBtn.innerHTML = '<i class="fas fa-check mr-2"></i>Copiado!';
            setTimeout(() => {
                copyReceiptBtn.innerHTML = originalText;
            }, 2000);
        });

        // 2. Sistema de Afiliados
        document.getElementById('copy-affiliate-link').addEventListener('click', function() {
            const link = document.getElementById('affiliate-user-link').textContent;
            navigator.clipboard.writeText(link);
            
            const btn = this;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check mr-2"></i>Copiado!';
            setTimeout(() => {
                btn.innerHTML = originalText;
            }, 2000);
        });

        // 3. Data e Localiza√ß√£o
        let timeUpdateInterval;
        async function updateUserLocationTime() {
            const locationEl = document.getElementById('user-location-info');
            if(timeUpdateInterval) clearInterval(timeUpdateInterval);

            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                const locationText = `üìç ${data.city || 'Desconhecida'}, ${data.country_code || 'BR'}`;
                
                function updateTime() {
                    const timeText = `üïí ${new Date().toLocaleTimeString('pt-BR')}`;
                    locationEl.textContent = `${locationText} ‚Äî ${timeText}`;
                }
                updateTime();
                timeUpdateInterval = setInterval(updateTime, 1000);

            } catch (error) {
                console.error("Erro ao buscar localiza√ß√£o:", error);
                locationEl.textContent = `üìç Localiza√ß√£o indispon√≠vel ‚Äî üïí ${new Date().toLocaleTimeString('pt-BR')}`;
            }
        }

    </script>
</body>
</html>